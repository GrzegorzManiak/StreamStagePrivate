/*! For license information please see authentication_bin.js.LICENSE.txt */
(()=>{var e={856:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(e,r,o){return n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,n,r){var o=[null];o.push.apply(o,n);var a=new(Function.bind.apply(e,o));return r&&t(a,r.prototype),a},n.apply(null,arguments)}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=Object.hasOwnProperty,i=Object.setPrototypeOf,s=Object.isFrozen,u=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,l=Object.freeze,f=Object.seal,d=Object.create,p="undefined"!=typeof Reflect&&Reflect,h=p.apply,m=p.construct;h||(h=function(e,t,n){return e.apply(t,n)}),l||(l=function(e){return e}),f||(f=function(e){return e}),m||(m=function(e,t){return n(e,r(t))});var v,y=N(Array.prototype.forEach),g=N(Array.prototype.pop),b=N(Array.prototype.push),_=N(String.prototype.toLowerCase),w=N(String.prototype.toString),k=N(String.prototype.match),E=N(String.prototype.replace),T=N(String.prototype.indexOf),A=N(String.prototype.trim),x=N(RegExp.prototype.test),S=(v=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m(v,t)});function N(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return h(e,t,r)}}function O(e,t,n){n=n||_,i&&i(e,null);for(var r=t.length;r--;){var o=t[r];if("string"==typeof o){var a=n(o);a!==o&&(s(t)||(t[r]=a),o=a)}e[o]=!0}return e}function L(e){var t,n=d(null);for(t in e)!0===h(a,e,[t])&&(n[t]=e[t]);return n}function C(e,t){for(;null!==e;){var n=c(e,t);if(n){if(n.get)return N(n.get);if("function"==typeof n.value)return N(n.value)}e=u(e)}return function(e){return console.warn("fallback value for",e),null}}var R=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),D=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=l(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),F=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j=l(["#text"]),H=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),U=l(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),B=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),G=f(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=f(/<%[\w\W]*|[\w\W]*%>/gm),W=f(/\${[\w\W]*}/gm),Y=f(/^data-[\-\w.\u00B7-\uFFFF]/),X=f(/^aria-[\-\w]+$/),J=f(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$=f(/^(?:\w+script|data):/i),K=f(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),V=f(/^html$/i),Z=function(){return"undefined"==typeof window?null:window},Q=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var a="dompurify"+(r?"#"+r:"");try{return t.createPolicy(a,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}};return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z(),o=function(e){return t(e)};if(o.version="2.4.3",o.removed=[],!n||!n.document||9!==n.document.nodeType)return o.isSupported=!1,o;var a=n.document,i=n.document,s=n.DocumentFragment,u=n.HTMLTemplateElement,c=n.Node,f=n.Element,d=n.NodeFilter,p=n.NamedNodeMap,h=void 0===p?n.NamedNodeMap||n.MozNamedAttrMap:p,m=n.HTMLFormElement,v=n.DOMParser,N=n.trustedTypes,ee=f.prototype,te=C(ee,"cloneNode"),ne=C(ee,"nextSibling"),re=C(ee,"childNodes"),oe=C(ee,"parentNode");if("function"==typeof u){var ae=i.createElement("template");ae.content&&ae.content.ownerDocument&&(i=ae.content.ownerDocument)}var ie=Q(N,a),se=ie?ie.createHTML(""):"",ue=i,ce=ue.implementation,le=ue.createNodeIterator,fe=ue.createDocumentFragment,de=ue.getElementsByTagName,pe=a.importNode,he={};try{he=L(i).documentMode?i.documentMode:{}}catch(e){}var me={};o.isSupported="function"==typeof oe&&ce&&void 0!==ce.createHTMLDocument&&9!==he;var ve,ye,ge=G,be=q,_e=W,we=Y,ke=X,Ee=$,Te=K,Ae=J,xe=null,Se=O({},[].concat(r(R),r(M),r(D),r(P),r(j))),Ne=null,Oe=O({},[].concat(r(H),r(U),r(z),r(B))),Le=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,Re=null,Me=!0,De=!0,Ie=!1,Pe=!1,Fe=!1,je=!1,He=!1,Ue=!1,ze=!1,Be=!1,Ge=!0,qe=!1,We=!0,Ye=!1,Xe={},Je=null,$e=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ke=null,Ve=O({},["audio","video","img","source","image","track"]),Ze=null,Qe=O({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml",rt=nt,ot=!1,at=null,it=O({},[et,tt,nt],w),st=["application/xhtml+xml","text/html"],ut=null,ct=i.createElement("form"),lt=function(e){return e instanceof RegExp||e instanceof Function},ft=function(t){ut&&ut===t||(t&&"object"===e(t)||(t={}),t=L(t),ve=ve=-1===st.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===ve?w:_,xe="ALLOWED_TAGS"in t?O({},t.ALLOWED_TAGS,ye):Se,Ne="ALLOWED_ATTR"in t?O({},t.ALLOWED_ATTR,ye):Oe,at="ALLOWED_NAMESPACES"in t?O({},t.ALLOWED_NAMESPACES,w):it,Ze="ADD_URI_SAFE_ATTR"in t?O(L(Qe),t.ADD_URI_SAFE_ATTR,ye):Qe,Ke="ADD_DATA_URI_TAGS"in t?O(L(Ve),t.ADD_DATA_URI_TAGS,ye):Ve,Je="FORBID_CONTENTS"in t?O({},t.FORBID_CONTENTS,ye):$e,Ce="FORBID_TAGS"in t?O({},t.FORBID_TAGS,ye):{},Re="FORBID_ATTR"in t?O({},t.FORBID_ATTR,ye):{},Xe="USE_PROFILES"in t&&t.USE_PROFILES,Me=!1!==t.ALLOW_ARIA_ATTR,De=!1!==t.ALLOW_DATA_ATTR,Ie=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=t.SAFE_FOR_TEMPLATES||!1,Fe=t.WHOLE_DOCUMENT||!1,Ue=t.RETURN_DOM||!1,ze=t.RETURN_DOM_FRAGMENT||!1,Be=t.RETURN_TRUSTED_TYPE||!1,He=t.FORCE_BODY||!1,Ge=!1!==t.SANITIZE_DOM,qe=t.SANITIZE_NAMED_PROPS||!1,We=!1!==t.KEEP_CONTENT,Ye=t.IN_PLACE||!1,Ae=t.ALLOWED_URI_REGEXP||Ae,rt=t.NAMESPACE||nt,t.CUSTOM_ELEMENT_HANDLING&&lt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Le.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&lt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Le.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Le.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pe&&(De=!1),ze&&(Ue=!0),Xe&&(xe=O({},r(j)),Ne=[],!0===Xe.html&&(O(xe,R),O(Ne,H)),!0===Xe.svg&&(O(xe,M),O(Ne,U),O(Ne,B)),!0===Xe.svgFilters&&(O(xe,D),O(Ne,U),O(Ne,B)),!0===Xe.mathMl&&(O(xe,P),O(Ne,z),O(Ne,B))),t.ADD_TAGS&&(xe===Se&&(xe=L(xe)),O(xe,t.ADD_TAGS,ye)),t.ADD_ATTR&&(Ne===Oe&&(Ne=L(Ne)),O(Ne,t.ADD_ATTR,ye)),t.ADD_URI_SAFE_ATTR&&O(Ze,t.ADD_URI_SAFE_ATTR,ye),t.FORBID_CONTENTS&&(Je===$e&&(Je=L(Je)),O(Je,t.FORBID_CONTENTS,ye)),We&&(xe["#text"]=!0),Fe&&O(xe,["html","head","body"]),xe.table&&(O(xe,["tbody"]),delete Ce.tbody),l&&l(t),ut=t)},dt=O({},["mi","mo","mn","ms","mtext"]),pt=O({},["foreignobject","desc","title","annotation-xml"]),ht=O({},["title","style","font","a","script"]),mt=O({},M);O(mt,D),O(mt,I);var vt=O({},P);O(vt,F);var yt=function(e){b(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=se}catch(t){e.remove()}}},gt=function(e,t){try{b(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){b(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ne[e])if(Ue||ze)try{yt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},bt=function(e){var t,n;if(He)e="<remove></remove>"+e;else{var r=k(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ve&&rt===nt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=ie?ie.createHTML(e):e;if(rt===nt)try{t=(new v).parseFromString(o,ve)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(rt,"template",null);try{t.documentElement.innerHTML=ot?se:o}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),rt===nt?de.call(t,Fe?"html":"body")[0]:Fe?t.documentElement:a},_t=function(e){return le.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},wt=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},kt=function(e,t,n){me[e]&&y(me[e],(function(e){e.call(o,t,n,ut)}))},Et=function(e){var t,n;if(kt("beforeSanitizeElements",e,null),(n=e)instanceof m&&("string"!=typeof n.nodeName||"string"!=typeof n.textContent||"function"!=typeof n.removeChild||!(n.attributes instanceof h)||"function"!=typeof n.removeAttribute||"function"!=typeof n.setAttribute||"string"!=typeof n.namespaceURI||"function"!=typeof n.insertBefore||"function"!=typeof n.hasChildNodes))return yt(e),!0;if(x(/[\u0080-\uFFFF]/,e.nodeName))return yt(e),!0;var r=ye(e.nodeName);if(kt("uponSanitizeElement",e,{tagName:r,allowedTags:xe}),e.hasChildNodes()&&!wt(e.firstElementChild)&&(!wt(e.content)||!wt(e.content.firstElementChild))&&x(/<[/\w]/g,e.innerHTML)&&x(/<[/\w]/g,e.textContent))return yt(e),!0;if("select"===r&&x(/<template/i,e.innerHTML))return yt(e),!0;if(!xe[r]||Ce[r]){if(!Ce[r]&&At(r)){if(Le.tagNameCheck instanceof RegExp&&x(Le.tagNameCheck,r))return!1;if(Le.tagNameCheck instanceof Function&&Le.tagNameCheck(r))return!1}if(We&&!Je[r]){var a=oe(e)||e.parentNode,i=re(e)||e.childNodes;if(i&&a)for(var s=i.length-1;s>=0;--s)a.insertBefore(te(i[s],!0),ne(e))}return yt(e),!0}return e instanceof f&&!function(e){var t=oe(e);t&&t.tagName||(t={namespaceURI:rt,tagName:"template"});var n=_(e.tagName),r=_(t.tagName);return!!at[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===nt?"svg"===n:t.namespaceURI===et?"svg"===n&&("annotation-xml"===r||dt[r]):Boolean(mt[n]):e.namespaceURI===et?t.namespaceURI===nt?"math"===n:t.namespaceURI===tt?"math"===n&&pt[r]:Boolean(vt[n]):e.namespaceURI===nt?!(t.namespaceURI===tt&&!pt[r])&&!(t.namespaceURI===et&&!dt[r])&&!vt[n]&&(ht[n]||!mt[n]):!("application/xhtml+xml"!==ve||!at[e.namespaceURI]))}(e)?(yt(e),!0):"noscript"!==r&&"noembed"!==r||!x(/<\/no(script|embed)/i,e.innerHTML)?(Pe&&3===e.nodeType&&(t=e.textContent,t=E(t,ge," "),t=E(t,be," "),t=E(t,_e," "),e.textContent!==t&&(b(o.removed,{element:e.cloneNode()}),e.textContent=t)),kt("afterSanitizeElements",e,null),!1):(yt(e),!0)},Tt=function(e,t,n){if(Ge&&("id"===t||"name"===t)&&(n in i||n in ct))return!1;if(De&&!Re[t]&&x(we,t));else if(Me&&x(ke,t));else if(!Ne[t]||Re[t]){if(!(At(e)&&(Le.tagNameCheck instanceof RegExp&&x(Le.tagNameCheck,e)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(e))&&(Le.attributeNameCheck instanceof RegExp&&x(Le.attributeNameCheck,t)||Le.attributeNameCheck instanceof Function&&Le.attributeNameCheck(t))||"is"===t&&Le.allowCustomizedBuiltInElements&&(Le.tagNameCheck instanceof RegExp&&x(Le.tagNameCheck,n)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(n))))return!1}else if(Ze[t]);else if(x(Ae,E(n,Te,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==T(n,"data:")||!Ke[e])if(Ie&&!x(Ee,E(n,Te,"")));else if(n)return!1;return!0},At=function(e){return e.indexOf("-")>0},xt=function(t){var n,r,a,i;kt("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ne};for(i=s.length;i--;){var c=n=s[i],l=c.name,f=c.namespaceURI;if(r="value"===l?n.value:A(n.value),a=ye(l),u.attrName=a,u.attrValue=r,u.keepAttr=!0,u.forceKeepAttr=void 0,kt("uponSanitizeAttribute",t,u),r=u.attrValue,!u.forceKeepAttr&&(gt(l,t),u.keepAttr))if(x(/\/>/i,r))gt(l,t);else{Pe&&(r=E(r,ge," "),r=E(r,be," "),r=E(r,_e," "));var d=ye(t.nodeName);if(Tt(d,a,r)){if(!qe||"id"!==a&&"name"!==a||(gt(l,t),r="user-content-"+r),ie&&"object"===e(N)&&"function"==typeof N.getAttributeType)if(f);else switch(N.getAttributeType(d,a)){case"TrustedHTML":r=ie.createHTML(r);break;case"TrustedScriptURL":r=ie.createScriptURL(r)}try{f?t.setAttributeNS(f,l,r):t.setAttribute(l,r),g(o.removed)}catch(e){}}}}kt("afterSanitizeAttributes",t,null)}},St=function e(t){var n,r=_t(t);for(kt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)kt("uponSanitizeShadowNode",n,null),Et(n)||(n.content instanceof s&&e(n.content),xt(n));kt("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(t){var r,i,u,l,f,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ot=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!wt(t)){if("function"!=typeof t.toString)throw S("toString is not a function");if("string"!=typeof(t=t.toString()))throw S("dirty is not a string, aborting")}if(!o.isSupported){if("object"===e(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof t)return n.toStaticHTML(t);if(wt(t))return n.toStaticHTML(t.outerHTML)}return t}if(je||ft(d),o.removed=[],"string"==typeof t&&(Ye=!1),Ye){if(t.nodeName){var p=ye(t.nodeName);if(!xe[p]||Ce[p])throw S("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof c)1===(i=(r=bt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!Ue&&!Pe&&!Fe&&-1===t.indexOf("<"))return ie&&Be?ie.createHTML(t):t;if(!(r=bt(t)))return Ue?null:Be?se:""}r&&He&&yt(r.firstChild);for(var h=_t(Ye?t:r);u=h.nextNode();)3===u.nodeType&&u===l||Et(u)||(u.content instanceof s&&St(u.content),xt(u),l=u);if(l=null,Ye)return t;if(Ue){if(ze)for(f=fe.call(r.ownerDocument);r.firstChild;)f.appendChild(r.firstChild);else f=r;return Ne.shadowroot&&(f=pe.call(a,f,!0)),f}var m=Fe?r.outerHTML:r.innerHTML;return Fe&&xe["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&x(V,r.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+m),Pe&&(m=E(m,ge," "),m=E(m,be," "),m=E(m,_e," ")),ie&&Be?ie.createHTML(m):m},o.setConfig=function(e){ft(e),je=!0},o.clearConfig=function(){ut=null,je=!1},o.isValidAttribute=function(e,t,n){ut||ft({});var r=ye(e),o=ye(t);return Tt(r,o,n)},o.addHook=function(e,t){"function"==typeof t&&(me[e]=me[e]||[],b(me[e],t))},o.removeHook=function(e){if(me[e])return g(me[e])},o.removeHooks=function(e){me[e]&&(me[e]=[])},o.removeAllHooks=function(){me={}},o}()}()},944:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.recent=t.resend=void 0;var a=n(420),i=n(835);t.resend=function(e,t){return r(void 0,void 0,void 0,(function(){var n,r,s;return o(this,(function(o){switch(o.label){case 0:return n={token:e},t&&(n.email=t),[4,fetch(i.email_resend,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a.csrf_token},body:JSON.stringify(n)})];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,r.json()];case 3:return[2,{data:s=o.sent(),status:s.status,code:r.status,message:s.message}];case 4:return[2,{message:"An unknown error has occured, "+o.sent().message,code:r.status,status:"error"}];case 5:return[2]}}))}))},t.recent=function(e){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,fetch(i.email_recent,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a.csrf_token},body:JSON.stringify({token:e})})];case 1:t=n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,t.json()];case 3:return[2,{data:n.sent(),status:"success",code:t.status}];case 4:return[2,{message:"An unknown error has occured, "+n.sent().message,code:t.status,status:"error"}];case 5:return[2]}}))}))}},937:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.login_with_token=t.login=void 0;var a=n(835),i=n(420);t.login=function(e,t){return r(void 0,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,fetch(a.get_token_url,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":i.csrf_token},body:JSON.stringify({emailorusername:e,password:t})})];case 1:n=r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.json()];case 3:return[2,{data:r.sent(),status:"success",code:n.status}];case 4:return[2,{message:"An unknown error has occured, "+r.sent().message,code:n.status,status:"error"}];case 5:return[2]}}))}))},t.login_with_token=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,fetch(a.token_url,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"".concat(e),"X-CSRFToken":i.csrf_token}})];case 1:t=n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,t.json()];case 3:return[2,{data:n.sent(),status:"success",code:t.status}];case 4:return[2,{message:"An unknown error has occured, "+n.sent().message,code:t.status,status:"error"}];case 5:return[2]}}))}))}},989:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.register=t.register_with_oauth=void 0;var a=n(835),i=n(420);t.register_with_oauth=function(e,t,n,s){return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,fetch(a.register_url,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"".concat(e),"X-CSRFToken":i.csrf_token},body:JSON.stringify({password:t,username:n,email:s})})];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),console.log(r),[4,r.json()];case 3:return[2,o.sent()];case 4:return[2,{message:"An unknown error has occured, "+o.sent().message,status:"error"}];case 5:return[2]}}))}))},t.register=function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,s;return o(this,(function(o){switch(o.label){case 0:return[4,fetch(a.register_url,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":i.csrf_token},body:JSON.stringify({password:e,username:t,email:n})})];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,r.json()];case 3:return[2,{data:s=o.sent(),status:s.status,code:r.status,message:s.message}];case 4:return[2,{message:"An unknown error has occured, "+o.sent().message,code:r.status,status:"error"}];case 5:return[2]}}))}))}},420:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ensure_tokens=t.oauth_error=t.csrf_token=t.parse_cookies=t.delete_cookies=void 0;var o=n(184);function a(){["csrf_token","oauth_error","instructions","code"].forEach((function(e){document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")}))}function i(){var e=document.cookie.split(";"),t={};return e.forEach((function(e){var n=e.split("="),r=n[0],o=n[1];r=r.trim(),o=o.trim(),t[r]=o})),{csrf_token:t.csrftoken,oauth_error:t.oauth_error||null}}t.delete_cookies=a,t.parse_cookies=i,t.csrf_token=(r=i()).csrf_token,t.oauth_error=r.oauth_error,t.ensure_tokens=function(){t.csrf_token||(console.error("No CSRF token found"),(0,o.create_toast)("error","CSRF","No CSRF token found, reloading page"),a(),setTimeout((function(){window.location.reload()}),3e3))}},587:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hide_all_panels_except=t.hide_panel=t.show_panel=t.get_panel=t.panels=void 0;var n=Array.from(document.getElementsByClassName("panel"));t.panels=[],n.forEach((function(e){var n=e.getAttribute("data-panel-type");t.panels.push({type:n,element:e})})),t.get_panel=function(e){var n=t.panels.find((function(t){return t.type===e}));if(!n)throw new Error("No panel of type ".concat(e," found"));return n},t.show_panel=function(e){(0,t.get_panel)(e).element.style.display="block"},t.hide_panel=function(e){(0,t.get_panel)(e).element.style.display="none"},t.hide_all_panels_except=function(e){t.panels.forEach((function(t){t.type!==e&&(t.element.style.display="none")})),(0,t.show_panel)(e)}},919:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.attach=void 0;var a=n(835);t.attach=function(e){var t=this;return e.disabled=!0,e.setAttribute("loader-state","hide-text"),function(){return new Promise((function(n){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,(0,a.sleep)(1e3)];case 1:return t.sent(),e.setAttribute("loader-state","show-text"),e.disabled=!1,n(),[2]}}))}))}))}}},166:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rp_password_monitor=t.name_monitor=t.password_monitor=t.validate_name=t.validate_password=void 0,t.validate_password=function(e){var t=[];return(e.length<8||e.length>64)&&t.push("length"),e.match(/\d/)||t.push("number"),e.match(/[A-Z]/)||t.push("uppercase"),e.match(/[a-z]/)||t.push("lowercase"),e.match(/\s/)&&t.push("spaces"),t},t.validate_name=function(e){var t=[];return(e.length<3||e.length>20)&&t.push("length"),e.match(/^[a-zA-Z]/)||t.push("start"),e.match(/^\w+$/)||t.push("characters"),e.match(/__+/)&&t.push("double-underscore"),e.match(/_$/)&&t.push("end-underscore"),t},t.password_monitor=function(e){var n=function(){var n=(0,t.validate_password)(e.value);return n.forEach((function(t){e.setAttribute("data-error-".concat(t),"")})),["length","number","uppercase","lowercase","spaces"].forEach((function(t){n.includes(t)||e.removeAttribute("data-error-".concat(t))})),0===n.length?"3":1===n.length?"2":2===n.length?"1":3===n.length||4===n.length?"0":void 0};e.addEventListener("keyup",(function(){e.setAttribute("data-strength",n())})),e.addEventListener("blur",(function(){e.removeAttribute("data-strength")})),e.addEventListener("focus",(function(){e.setAttribute("data-strength",n())})),e.addEventListener("input",(function(){e.value.length>0&&e.setAttribute("data-strength",n())}))},t.name_monitor=function(e){var n=function(){var n=(0,t.validate_name)(e.value);if(n.forEach((function(t){e.setAttribute("data-error-".concat(t),"")})),["length","start","characters","double-underscore","end-underscore"].forEach((function(t){n.includes(t)||e.removeAttribute("data-error-".concat(t))})),0===n.length)return"3"};e.addEventListener("keyup",(function(){e.setAttribute("data-strength",n())})),e.addEventListener("blur",(function(){e.removeAttribute("data-strength")})),e.addEventListener("focus",(function(){e.setAttribute("data-strength",n())})),e.addEventListener("input",(function(){e.value.length>0&&e.setAttribute("data-strength",n())}))},t.rp_password_monitor=function(e,t){var n=function(){return e.value===t.value?(t.setAttribute("data-strength","3"),!0):(t.setAttribute("data-strength","0"),!1)};t.addEventListener("keyup",(function(){n()})),t.addEventListener("blur",(function(){t.removeAttribute("data-strength")})),t.addEventListener("focus",(function(){n()})),t.addEventListener("input",(function(){t.value.length>0&&n()}))}},835:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.email_resend=t.email_verify=t.email_recent=t.login_url=t.register_url=t.get_token_url=t.token_url=t.sleep=void 0;var r=n(420),o=n(611),a=n(475),i=n(369);t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},(0,r.ensure_tokens)();var s=new URL(window.location.href).searchParams.get("instructions"),u=document.getElementById("sso");t.token_url=null==u?void 0:u.getAttribute("data-token-url"),t.get_token_url=null==u?void 0:u.getAttribute("data-get-token-url"),t.register_url=null==u?void 0:u.getAttribute("data-register-url"),t.login_url=null==u?void 0:u.getAttribute("data-login-url"),t.email_recent=null==u?void 0:u.getAttribute("data-email-recent"),t.email_verify=null==u?void 0:u.getAttribute("data-email-verify"),t.email_resend=null==u?void 0:u.getAttribute("data-email-resend");var c=null==u?void 0:u.getAttribute("data-page");switch(t.token_url&&t.get_token_url&&t.register_url&&t.login_url&&c&&t.email_recent&&t.email_verify&&t.email_resend||(console.error("Please ensure that you have set the correct urls in the sso config"),window.location.reload()),c){case"login":s?(0,o.instruction_handler)(s):(0,a.login_handler)();break;case"register":(0,i.register_handler)()}},611:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.instruction_handler=void 0;var a=n(587),i=n(184),s=n(166),u=n(856),c=n(989),l=n(937),f=n(919);function d(e){var t=this,n=(0,f.attach)(document.querySelector('button[type="submit"]'));return new Promise((function(a,s){return r(t,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,(0,l.login_with_token)(e)];case 1:return 200!==(t=r.sent()).code?((0,i.create_toast)("error","login",t.data.message),[2,n()]):((0,i.create_toast)("success","oAuth2 Login","You have successfully autenticated in with OAuth, please wait while we redirect you to the home page"),setTimeout((function(){window.location.href="/"}),3e3),[2])}}))}))}))}t.instruction_handler=function(e){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(n){return t=function(e){try{return JSON.parse(atob(e))}catch(e){return null}}(e),t?"Success"!==t.message?(console.error(t.message),[2]):t.instructions.can_authenticate?[2,d(t.token)]:((0,a.hide_panel)("defualt"),(0,a.show_panel)("oauth"),(0,i.create_toast)("success","oauth","You have successfully autenticated in with OAuth, please fill in the required fields"),function(e,t){var n=this,a=t.element.querySelector('input[name="email"]');a.value=u.sanitize(e.user.email),e.user.verified_email&&(a.parentElement.style.display="none");var l=t.element.querySelector('input[name="username"]');l.value=u.sanitize(e.user.name),(0,s.name_monitor)(l);var p=t.element.querySelector('input[name="password"]');(0,s.password_monitor)(p);var h=t.element.querySelector('input[name="rp-password"]');(0,s.rp_password_monitor)(p,h);var m=t.element.querySelector('button[type="submit"]');m.addEventListener("click",(function(){return r(n,void 0,void 0,(function(){var t,n,r,u;return o(this,(function(o){switch(o.label){case 0:return t=(0,f.attach)(m),n=(0,s.validate_name)(l.value),r=(0,s.validate_password)(p.value),p.value===h.value?[3,2]:((0,i.create_toast)("error","Passwords","Oops! It looks like your passwords don't match."),[4,t()]);case 1:case 3:case 5:case 7:return o.sent(),[2];case 2:return n.length>0?((0,i.create_toast)("error","Name","Oops! It looks like your name is invalid."),[4,t()]):[3,4];case 4:return r.length>0?((0,i.create_toast)("error","Password","Oops! It looks like your password is invalid."),[4,t()]):[3,6];case 6:return e.user.verified_email||0!==a.value.length?[3,8]:((0,i.create_toast)("error","Email","Oops! It looks like you haven't entered an email."),[4,t()]);case 8:return m.disabled=!0,[4,(0,c.register_with_oauth)(e.token,p.value,l.value,a.value)];case 9:return"error"===(u=o.sent()).status?(m.disabled=!1,[2,(0,i.create_toast)("error","Error",u.message)]):((0,i.create_toast)("success","Account created!","Your account has been created! You will be redirected to the home page shortly."),[4,!d(u.token)]);case 10:return o.sent()?(m.disabled=!1,[2,(0,i.create_toast)("error","Error","There was some issue logging you in, please try again.")]):(setTimeout((function(){window.location.href="/"}),3e3),[2])}}))}))}))}(t,(0,a.get_panel)("oauth")),[2]):[2]}))}))}},475:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.login_handler=void 0;var a=n(587),i=n(919),s=n(184),u=n(937);t.login_handler=function(){return r(void 0,void 0,void 0,(function(){var e,t,n,c;return o(this,(function(l){return e=(0,a.get_panel)("defualt"),t=e.element.querySelector('input[name="emailorusername"]'),n=e.element.querySelector('input[name="password"]'),(c=e.element.querySelector("button")).addEventListener("click",(function(){return r(void 0,void 0,void 0,(function(){var e,r,a,l,f,d;return o(this,(function(o){switch(o.label){case 0:return e=(0,i.attach)(c),r=t.value,a=n.value,""!==r?[3,2]:((0,s.create_toast)("warning","login","Please enter an email or username"),[4,e()]);case 1:case 3:return[2,o.sent()];case 2:return""!==a?[3,4]:((0,s.create_toast)("warning","login","Please enter a password"),[4,e()]);case 4:return[4,(0,u.login)(r,a)];case 5:return 200!==(l=o.sent()).code?((0,s.create_toast)("error","login",l.data.message),[2,e()]):((0,s.create_toast)("success","login",l.data.message),f=l.data.token,[4,(0,u.login_with_token)(f)]);case 6:return 200!==(d=o.sent()).code?((0,s.create_toast)("error","login",d.data.message),[2,e()]):((0,s.create_toast)("success","login","You have successfully logged in, redirecting you to the dashboard"),setTimeout((function(){window.location.href="/"}),3e3),[2])}}))}))})),[2]}))}))}},369:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.register_handler=void 0;var a=n(587),i=n(184),s=n(166),u=n(989),c=n(919),l=n(742);function f(e,t,n,a,f,d){return r(this,void 0,void 0,(function(){var e,r,p,h;return o(this,(function(o){switch(o.label){case 0:return e=(0,c.attach)(t),r=(0,s.validate_name)(n.value),p=(0,s.validate_password)(f.value),f.value===d.value?[3,2]:((0,i.create_toast)("error","Passwords","Oops! It looks like your passwords don't match."),[4,e()]);case 1:case 3:case 5:case 7:case 11:return o.sent(),[2];case 2:return r.length>0?((0,i.create_toast)("error","Name","Oops! It looks like your name is invalid."),[4,e()]):[3,4];case 4:return p.length>0?((0,i.create_toast)("error","Password","Oops! It looks like your password is invalid."),[4,e()]):[3,6];case 6:return 0!==a.value.length?[3,8]:((0,i.create_toast)("error","Email","Oops! It looks like your email is invalid."),[4,e()]);case 8:return[4,(0,u.register)(f.value,n.value,a.value)];case 9:return h=o.sent(),[4,(0,l.complete_verification)("register",a.value,f.value,n.value,h)];case 10:return o.sent(),[4,e()]}}))}))}t.register_handler=function(){return r(void 0,void 0,void 0,(function(){var e,t,n,i,u,c;return o(this,(function(l){return e=(0,a.get_panel)("register"),t=e.element.querySelector('input[name="email"]'),n=e.element.querySelector('input[name="username"]'),(0,s.name_monitor)(n),i=e.element.querySelector('input[name="password"]'),(0,s.password_monitor)(i),u=e.element.querySelector('input[name="rp-password"]'),(0,s.rp_password_monitor)(i,u),(c=e.element.querySelector('button[type="submit"]')).addEventListener("click",(function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,f(0,c,n,t,i,u)];case 1:return e.sent(),[2]}}))}))})),[2]}))}))}},742:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.complete_verification=void 0;var a=n(587),i=n(184),s=n(919),u=n(944),c=n(835);function l(e,t,n,a,l){return r(this,void 0,void 0,(function(){var r,f;return o(this,(function(o){switch(o.label){case 0:return r=(0,s.attach)(n),f=null,t!==e?[3,2]:[4,(0,u.resend)(a)];case 1:return f=o.sent(),[3,4];case 2:return[4,(0,u.resend)(a,t)];case 3:f=o.sent(),o.label=4;case 4:return 306!==f.code&&302!==f.code?[3,6]:((0,i.create_toast)(f.status,"Email",f.message),[4,r()]);case 5:return[2,o.sent()];case 6:return 200===f.code?[3,8]:((0,i.create_toast)(f.status,"Email",f.message),[4,r()]);case 7:return[2,o.sent()];case 8:return(0,i.create_toast)(f.status,"Email",f.message),l(f.data.token),[4,r()];case 9:return o.sent(),n.disabled=!0,[4,(0,c.sleep)(6e4).then((function(){n.disabled=!1}))];case 10:return[2,o.sent()]}}))}))}t.complete_verification=function(e,t,n,s,f){return r(this,void 0,void 0,(function(){var e,n,s,d,p=this;return o(this,(function(h){return(0,i.create_toast)(f.status,"Registration",f.message),200!==f.code||(e=f.data.token,n=f.data.verify_token,(0,a.hide_all_panels_except)("email-wait"),s=(0,a.get_panel)("email-wait").element.querySelector('button[name="resend"]'),(d=(0,a.get_panel)("email-wait").element.querySelector('input[name="email"]')).value=t,function(e,t){r(this,void 0,void 0,(function(){var n=this;return o(this,(function(a){return console.log(e),[2,setInterval((function(){return r(n,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,(0,u.recent)(e)];case 1:return 404!==(n=r.sent()).code?[3,2]:[3,5];case 2:return 200!==n.code?[3,4]:(t.disabled=!0,(0,i.create_toast)("success","Congratulations!","Your email has been verified, you'll be redirected to the home page in a few seconds."),[4,(0,c.sleep)(3e3)]);case 3:return r.sent(),window.location.href=c.login_url,[3,5];case 4:(0,i.create_toast)("error","Error",n.message),r.label=5;case 5:return[2]}}))}))}),3e3)]}))}))}(n,s),s.addEventListener("click",(function(){return r(p,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,l(t,d.value,s,e,(function(t){return e=t}))];case 1:return n.sent(),[2]}}))}))}))),[2]}))}))}},184:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.create_toast=void 0;var o=document.getElementById("toasts");if(!o)throw new Error("No toasts element found");function a(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))}function i(e){return n(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:t=500,n.label=1;case 1:return Number(e.style.opacity)>.1?(e.style.opacity="".concat(Number(e.style.opacity)-.01),[4,a(t/100)]):[3,3];case 2:return n.sent(),[3,1];case 3:return e.style.display="none",e.classList.remove("show"),e.remove(),[2]}}))}))}t.create_toast=function(e,t,s){var u=document.createElement("div");u.classList.add("toast","show","mb-2"),u.setAttribute("role","alert"),u.setAttribute("aria-live","assertive"),u.setAttribute("aria-atomic","true");var c=document.createElement("div");c.classList.add("toast-header","rounded-2");var l=document.createElement("span");switch(l.classList.add("badge","bg-".concat("error"===e?"danger":e)),l.style.marginRight="0.5rem",e){case"error":l.innerText="Error";break;case"success":l.innerText="Success";break;case"warning":l.innerText="Warning"}var f=document.createElement("strong");f.classList.add("me-auto"),f.innerText=t;var d=document.createElement("button");d.classList.add("btn-close"),d.setAttribute("data-bs-dismiss","toast"),d.setAttribute("aria-label","Close"),d.addEventListener("click",(function(){i(u)})),c.appendChild(l),c.appendChild(f),c.appendChild(d);var p=document.createElement("div");p.classList.add("toast-body","rounded-2"),p.innerText=s,u.appendChild(c),u.appendChild(p),o.appendChild(u),function(e){n(this,void 0,void 0,(function(){var t,n;return r(this,(function(r){switch(r.label){case 0:t=e.offsetHeight,e.style.height="0px",e.style.opacity="0",e.style.display="block",e.classList.add("show"),n=500,r.label=1;case 1:return e.offsetHeight<t?(e.style.height="".concat(e.offsetHeight+1,"px"),e.style.opacity="".concat(e.offsetHeight/t),[4,a(n/t)]):[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}}))}))}(u),setTimeout((function(){i(u)}),5e3)}}},t={};!function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(835)})();