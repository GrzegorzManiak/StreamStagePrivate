{% extends "base.html" %}
{% load static %}
{% load render_bundle from webpack_loader %}

{% block metadescription %}
    Frequently Asked Questions - StreamStage
{% endblock %}

{% block title %}
    FAQ - StreamStage
{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/auth.css' %}">
{% endblock %}

{% block content %}
    <main>
        <div class = '
            container 
            mt-4
            d-flex
            justify-content-center
            align-items-center
        '>

            <div class = '
                size-limiter
            '>
                <div>
                    <div class = '
                        row 
                        g-0
                        main-content
                    '>
                        <main>
                            <div class = "
                                card-body 
                                text-light
                                smoother
                            ">

                                <!-- Header -->
                                <div class="
                                    mb-5
                                    justify-content-start
                                ">
                                    <!-- Header -->
                                    <h1 class="
                                        fw-bold 
                                    "> Frequently Asked Questions </h1>

                                    <p class="
                                        text-muted
                                    ">   
                                        These are the most common questions we get asked. If you have any other questions, you can contact us at the bottom of the page.
                                    </p>
                                </div>

                                <hr>

                                <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
                                <article class='panel' data-panel-type='email-wait'>
                                    <div class="
                                        w-100
                                    ">
                                        <p 
                                        id = 'privacy'
                                        class='
                                            terms-privacy
                                            mb-4
                                        '>
                                            {% for section in sections %}
                                                <div class='mb-2'>
                                                    <h2 class='
                                                        fw-bold
                                                        m-0
                                                        qna-header
                                                    '>
                                                        {{ section.section }}
                                                    </h2>

                                                    <p class='
                                                        text-muted
                                                    '>
                                                        {% for qna in section.faq %}
                                                            <h4 class='
                                                                fw-bold
                                                                qna-question
                                                                m-0
                                                            '>
                                                                Q: {{ qna.question }}
                                                            </h4>

                                                            <p 
                                                            id='{{ qna.id }}'
                                                            class='
                                                                text-muted
                                                                m-0
                                                                ps-3
                                                            '></p>
                                                            <script>
                                                                document.getElementById('{{ qna.id }}').innerHTML = marked.parse(`A: {{ qna.answer }}`);
                                                            </script>
                                                        {% endfor %}
                                                    </p>
                                                </div>
                                            {% endfor %}
                                        </p>
                                    </div>
                                </article>
                            </div>
                        </main>
                    </div>
                </div>
            </div>
        </div>
    </main>
{% endblock %}