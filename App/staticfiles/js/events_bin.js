/*! For license information please see events_bin.js.LICENSE.txt */
(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};function e(t){var e=t.replace(/\D/g,"");return/^4/.test(e)?"Visa":/^5[1-5]/.test(e)?"Mastercard":/^3[47]/.test(e)?"American Express":/^6(?:011|5[0-9])/.test(e)?"Discover":/^3(?:0[0-5]|[68][0-9])/.test(e)?"Diners Club":/^(?:2131|180)/.test(e)?"JCB":/^62/.test(e)?"UnionPay":/^(5018|5020|5038|6304|6759|6761|6762|6763|0604|6390)/.test(e)||/^(56|57|58|59|60|61|62|63|64|65|66|67|68|69)/.test(e)?"Maestro":"unknown"}function r(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=document.createElement("div");return r.className="cards-body d-flex justify-content-between align-items-center gap-3",r.setAttribute("card-id",t.id),r.setAttribute("card-brand",t.brand),r.setAttribute("card-exp-month",t.exp_month.toString()),r.setAttribute("card-exp-year",t.exp_year.toString()),r.setAttribute("card-last4",t.last4),r.setAttribute("card-created",t.created.toString()),r.innerHTML='\n    <div class="d-flex align-items-center main-card-detail">\n        <div class="me-3 card-icon" card-type="'.concat(t.brand,'">\n            <i class="fas fa-credit-card" data-card=\'cartes_bancaires\'></i>\n            <i class="fas fa-credit-card" data-card=\'unionpay\'></i>\n            <i class="fa-brands fa-cc-amex" data-card=\'amex\'></i>\n            <i class="fa-brands fa-cc-diners-club" data-card=\'diners\'></i>\n            <i class="fa-brands fa-cc-discover" data-card=\'discover\'></i>\n            <i class="fa-brands fa-cc-jcb" data-card=\'jcb\'></i>\n            <i class="fa-brands fa-cc-mastercard" data-card=\'mastercard\'></i>\n            <i class="fa-brands fa-cc-visa" data-card=\'visa\'></i>\n        </div>\n  \n        <div>\n            <p class="card-number">**** **** **** ').concat(t.last4,'</p>\n            <p class="text-muted exp-date">Expires - ').concat(t.exp_month,"/").concat(t.exp_year,'</p>\n        </div>\n    </div>\n  \n\n    <div>\n        <p class="text-muted card-added">Added - \n            ').concat(new Date(1e3*t.created).toLocaleDateString()," at\n            ").concat(new Date(1e3*t.created).toLocaleTimeString(),"\n        </p>\n    </div>\n\n    ").concat(e?"\n    <div class=\"d-flex h-100 align-items-center\">\n        <button type=\"submit\" id=\"remove-card\" \n            class=\"mfa btn btn-danger btn-lg loader-btn error\" loader-state='default'>\n            <span>\n                <div class='spinner-border' role='status'>\n                    <span class='visually-hidden'>Loading...</span>\n                </div>\n            </span>\n            <p>Remove</p>\n        </button>\n    </div>\n    ":"","\n    "),{card:r,button:r.querySelector("#remove-card")}}t.d({},{qc:()=>Oe,zX:()=>je});var n=function(){return'\n<div class="add-card-details">\n    <div class="mb-5">\n \n \n        <label class="form-label d-flex" for="card-number">\n            <span class="card-type col-1 d-flex"><i class="fas fa-credit-card align-self-center"></i></span>\n            Card Number\n        </label>\n\n        <input name="card_number" autocomplete=\'on\' id="cardnumber" placeholder="1234 5678 9101 1123" class="form-control form-control-lg inp">\n\n\n        <div class="row mt-3">\n            <div class="col">\n                <label class="form-label" for="card-expiry">Expiry</label>\n                <input name="exp" autocomplete=\'on\' id="card-expiry" placeholder="MM/YY" class="form-control form-control-lg inp">\n            </div>\n\n            <div class="col">\n                <label class="form-label" for="card-cvc">CVC</label>\n                <input type="password" maxlength="4" name="cvc" autocomplete=\'on\' id="card-cvc" placeholder="***" class="form-control form-control-lg inp">\n            </div>\n        </div>\n\n        <div class="mt-3">\n            <label class="form-label" for="card-name">Name</label>\n            <input name="name" autocomplete=\'on\' id="card-name" placeholder="John Doe" class="form-control form-control-lg inp">\n        </div>\n\n        <div class="mt-3">\n            '.concat(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?'\n                <div class="form-check">\n                    <input class="form-check-input save-card" type="checkbox" value="" id="save-card">\n                    <label class="form-check-label" for="save-card">\n                        <span class="text-muted">Save this card for future purchases</span>\n                    </label>\n                </div>\n            ':"","\n        </div>\n    </div>\n</div>\n")},o=function(){return xe(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Add Card",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Add a new card to your account",!0,"primary",n(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))},a=function(){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"StreamStage+",e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"$9.99 Per Month";return xe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Pay now",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Please enter your card details, or select a saved payment method.",!0,"primary","   \n        <span data-mode='select' class='pay-now-modal'>\n\n            <span class='payment-select' data-mode='saved'>\n                <div class=\"d-flex align-items-center justify-content-between pay-now-slider\">\n                    <h5 class=\"mb-0 saved-card\">Saved Cards</h5>\n                    <h5 class=\"mb-0 new-card\">New Card</h5>\n                </div>\n\n                <hr>\n\n                <div class=\"pay-now-body\">\n                    <div class='new-card'> ".concat(n(!0)," </div>\n                    <div class='saved-card'> <div class='cards cards-slim'></div> </div>\n                </div>\n            </span>\n\n            <span class='pay-confirm d-flex justify-content-between flex-column'>\n                <div class='cards cards-slim'><div class='final-card card-body p-2'></div></div>\n\n                <div class='pay-confirm-body'>\n                    <p class='pay-confirm-item'>").concat(t,"</p>\n                    <p class='pay-confirm-amount'>").concat(e,"</p>\n                </div>\n                \n                <div class=\"d-flex align-items-center\">\n                    <hr>\n                    \x3c!-- Terms --\x3e\n                    <p class=\"\n                        text-muted\n                        text-center\n                        m-0\n                    \">\n                        By proceeding with this purchase, you agree to StreamStage's <a href='/terms'>terms and conditions</a>,\n                        which includes refund policies, and the <a href='/privacy'>privacy policy</a>.\n                        Additionally, you also agree to Stripe's <a href='https://stripe.com/'>terms and conditions</a>.\n                    </p>\n                </div>\n            </span>\n\n        </span>\n\n        <p class='w-100 text-muted text-center go-back'> Go back </p>\n    "))};function i(t){return"id"in t?t:{id:"NEW",brand:e(t.card),last4:t.card.slice(-4),exp_month:t.exp_month,exp_year:t.exp_year,created:Date.now()}}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:E(t,r,c)}),i}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function p(){}function v(){}function y(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(j([])));b&&b!==e&&r.call(b,a)&&(m=b);var w=y.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function o(n,a,i,u){var s=d(t[n],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,u)}),(function(t){o("throw",t,i,u)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return o("throw",t,i,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=d(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(L.prototype),l(L.prototype,i,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new L(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function s(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var l=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=document.getElementById("toasts");if(!a)throw new Error("No toasts element found");var i="\n        <div \n            toast-type='".concat(t,"'\n            class='\n                toast\n                d-flex\n                align-items-center\n                justify-content-start\n            '\n        >\n            \x3c!-- Icon, pinned to the top --\x3e\n            <div class='toast-icon col-1'>\n                <i class=\"fa-regular fa-circle-check\" icon='success'></i>\n                <i class=\"fa-solid fa-triangle-exclamation\" icon='warning'></i>\n                <i class=\"fa-solid fa-exclamation\" icon='error'></i>\n                <i class=\"fa-solid fa-circle-info\" icon='info'></i>\n            </div>\n\n            \x3c!-- Content --\x3e\n            <div class='toast-content col-9'>\n                <p class='toast-content-header m-0'>").concat(e,"</p>\n                <p class='toast-content-text m-0'>").concat(r,"</p>\n                <p class='toast-content-time m-0'>Now</p>\n            </div>\n\n            \x3c!-- Close button --\x3e\n            <div class='toast-close col-2'>\n                <i class=\"fa-solid fa-times\"></i>\n            </div>\n        </div>\n    "),c=document.createElement("div");c.innerHTML=i;var u=c.querySelector(".toast-close"),s=c.querySelector(".toast-content-time"),l=new Date,d=setInterval((function(){var t,e,r;s.innerText=(t=l,e=(Date.now()-t.getTime())/1e3,((r=[{threshold:0,label:"Just now"},{threshold:6e4,label:"A few seconds ago"},{threshold:36e5,label:"A few minutes ago"},{threshold:864e5,label:"A few hours ago"},{threshold:6048e5,label:"A few days ago"},{threshold:1/0,label:"A while ago"}]).find((function(t){var r=t.threshold;return e<=r}))||r[r.length-1]).label)}),1e3);u.addEventListener("click",(function(){f(c,a),clearInterval(d),o()})),setTimeout((function(){f(c,a),clearInterval(d),o()}),n),a.appendChild(c)};function f(t,e){return d.apply(this,arguments)}function d(){var t;return t=u().mark((function t(e,r){var n,o,a,i,c,s,l,f,d,h,p;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=1e3,e.classList.add("toast-out"),o=e.children[0],a=getComputedStyle(o),i=a.getPropertyValue("margin-bottom"),c=e.offsetHeight+parseInt(i),s=r.children,l=Array.from(s).indexOf(e),e.style.animation&&(e.style.animation=""),f=0;case 8:if(!(f<s.length)){t.next=19;break}if(d=s[f],!(f<=l)){t.next=12;break}return t.abrupt("continue",16);case 12:if(!d.classList.contains("toast-out")){t.next=14;break}return t.abrupt("continue",16);case 14:d.style.setProperty("--toast-adjust-height","-".concat(c,"px")),d.style.animation="toast_adjust ".concat(n,"ms ease-in-out");case 16:f++,t.next=8;break;case 19:return t.next=21,be(n);case 21:e.classList.remove("toast-out"),h=0;case 23:if(!(h<s.length)){t.next=31;break}if(p=s[h],!(h<=l)){t.next=27;break}return t.abrupt("continue",28);case 27:p.style.animation="";case 28:h++,t.next=23;break;case 31:e.remove();case 32:case"end":return t.stop()}}),t)})),d=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){s(a,n,o,i,c,"next",t)}function c(t){s(a,n,o,i,c,"throw",t)}i(void 0)}))},d.apply(this,arguments)}function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function p(){p=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:E(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function v(){}function y(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(j([])));b&&b!==e&&r.call(b,a)&&(m=b);var w=y.prototype=d.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==h(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(L.prototype),u(L.prototype,i,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new L(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),u(w,c,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function v(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){v(a,n,o,i,c,"next",t)}function c(t){v(a,n,o,i,c,"throw",t)}i(void 0)}))}}function m(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var b=[],w=[];function x(t){var e,r=m(w);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(n.type===t)return n}}catch(t){r.e(t)}finally{r.f()}}function L(){var t,e=m(w);try{for(e.s();!(t=e.n()).done;){var r=t.value;if("active"===r.element.getAttribute("data-pod-status"))return r}}catch(t){e.e(t)}finally{e.f()}}var E=[];function k(t){E.push(t)}function S(t){var e=x(t),r=L();e&&(r&&r.panel.element.setAttribute("data-panel-status","hidden"),e.panel.element.setAttribute("data-panel-status","active"),r&&r.element.setAttribute("data-pod-status",""),e.element.setAttribute("data-pod-status","active"),E.forEach((function(r){return r(t,e.panel,e)})))}function _(t){var e=x(t);e&&e.element.setAttribute("data-pod-status","")}function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function j(){j=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==e&&r.call(m,a)&&(v=m);var g=p.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==O(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function A(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function P(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){A(a,n,o,i,c,"next",t)}function c(t){A(a,n,o,i,c,"throw",t)}i(void 0)}))}}const T=function(t,e){var r="Unknown";switch(t.oauth_type.toString()){case"0":r="Google";break;case"1":r="Discord";break;case"2":r="Github"}var n=t.added.split("T"),o=n[0],a=n[1].split(".")[0],i=t.last_used.split("T"),c=i[0],u=i[1].split(".")[0],s='\n        <div class="w-100 p-2 mb-2 rounded linked-account-continer" style="background-color: var(--theme-color);">\n            <div class="w-100 container d-flex justify-content-between align-items-center mb-1">\n                \x3c!-- Provider name --\x3e\n                <h5 class="fw-bold col-3 m-0">'.concat(r,'</h5>\n                \n                \x3c!-- Provider Oauth ID --\x3e\n                <p class="col-6 m-0 oauth-id-top">').concat(t.id,'</p>\n\n                \x3c!-- Remove button --\x3e\n                <button\n                    type="submit"\n                    id="remove-tfa"\n                    class="btn btn-danger btn-sm loader-btn col-3"\n                    loader-state="default"\n                > Remove </button>\n\n            </div>\n\n            <div class="oauth-id-bottom w-100 container d-flex justify-content-between align-items-center">\n                <p class="text-muted m-0">').concat(t.id,'</p>\n            </div>\n\n            <div class="w-100 container d-flex justify-content-between align-items-center oauth-times">\n                \x3c!-- Date added --\x3e\n                <p class="text-muted col-6 m-0">Added: ').concat(o," at ").concat(a,'</p>\n\n                \x3c!-- Last used --\x3e\n                <p class="text-muted col-6 m-0">Last used: ').concat(c," at ").concat(u,"</p>\n            </div>\n\n        </div>\n    "),f=document.createElement("div");f.innerHTML=s;var d=f.querySelector("button");return d.addEventListener("click",P(j().mark((function n(){var o;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=we(d),Le(P(j().mark((function r(){var n;return j().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Qt(e,t.id);case 2:200!==(n=r.sent).code?l("error","Failed to remove OAuth",n.message):(l("success","OAuth removed","Successfully removed OAuth"),f.remove()),o();case 5:case"end":return r.stop()}}),r)}))),(function(){return o()}),'Are you sure you want to remove "'+r+'" from your linked accounts? This action cannot be undone.');case 2:case"end":return n.stop()}}),n)})))),f};function N(){return(N=P(j().mark((function t(e){var r;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.querySelector("#oauth-providers"),e.querySelector("#add-tfa").addEventListener("click",P(j().mark((function t(){var e,n;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.value,n=r.querySelector('option[value="'.concat(e,'"]')),"Provider"!==e){t.next=3;break}return t.abrupt("return",l("warning","Oops","Please select a provider"));case 3:if(window.open(n.getAttribute("redirect-url"),"_blank","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no,width=600,height=700")){t.next=6;break}return t.abrupt("return",l("error","Oops","There was an error opening the oauth window"));case 6:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const q=function(t){var e='\n        <div class="w-100 p-2 mb-2 rounded" style="background-color: var(--theme-color);">\n            <div class="w-100 container d-flex justify-content-between align-items-center mb-1">\n                \x3c!-- Date added --\x3e\n                <p class="text-muted col-12 m-0">\n                    On '.concat(t.date," at ").concat(t.time.split(".")[0],'\n                </p>\n            </div>\n\n            <div class="w-100 container d-flex justify-content-between align-items-center">\n                \x3c!-- Provider IP --\x3e\n                <p class="col-6 text-muted m-0">\n                    IP: ').concat(t.ip,'\n                </p>\n\n                \x3c!-- Method --\x3e\n                <p class="text-muted col-6 m-0">\n                    Method: ').concat(t.method,"\n                </p>\n            </div>\n\n        </div>\n    "),r=document.createElement("div");return r.innerHTML=e,r};function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function I(){I=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==e&&r.call(m,a)&&(v=m);var g=p.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==G(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function F(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function C(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){F(a,n,o,i,c,"next",t)}function c(t){F(a,n,o,i,c,"throw",t)}i(void 0)}))}}const M=function(t,e,r){var n=e.querySelector("#remove-tfa"),o=e.querySelector("#add-tfa");n.onclick=C(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Y(n,r);case 1:case"end":return t.stop()}}),t)}))),o.onclick=C(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(o,r,t);case 1:case"end":return e.stop()}}),e)})))};function Y(t,e){var r=we(t);Le(C(I().mark((function t(){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bt(e);case 2:if(200===(n=t.sent).code){t.next=6;break}return l("error","Oops, there appears to be an error",n.message),t.abrupt("return");case 6:l("success","Two factor authentication removed","Successfully removed two factor authentication"),R(!1),r();case 9:case"end":return t.stop()}}),t)}))),(function(){return r()}),"Are you sure you want to remove two factor authentication? This action cannot be undone.")}function D(t,e,r){return H.apply(this,arguments)}function H(){return(H=C(I().mark((function t(e,r,n){var o,a,i,c,u,s,f,d,h,p;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=we(e),t.next=3,Rt(r);case 3:if(200===(a=t.sent).code){t.next=7;break}return l("error","Oops, there appears to be an error",a.message),t.abrupt("return",o());case 7:if(i=a.data.token){t.next=11;break}return l("error","Oops, there appears to be an error","No token was returned"),t.abrupt("return",o());case 11:c=B(i,"StreamStage",n.email),u=xe("Add two factor authentication","Scan the QR Code below with your authenticator app. If you are on mobile, click the link below the QR Code. Then enter the code below to complete the process.",!0,"success",'<img class="w-50 mx-auto d-block rounded" src="'.concat(c.url,'" alt="QR Code"/>\n        <a class="mt-3 text-center" href="').concat(c.otp,'" target="_blank">On mobile? Click here</a>\n        <div class="form-group mt-3 mb-3 tfa-input d-flex gap-2 justify-content-center"></div>')),(s=document.createElement("div")).innerHTML=u,document.body.appendChild(s),f=s.querySelector(".yes"),d=s.querySelector(".no"),h=s.querySelector(".tfa-input"),f.disabled=!0,p="",Ee(h,(function(t){p=t,f.disabled=!1}),(function(){return f.disabled=!0})),f.addEventListener("click",C(I().mark((function t(){var e,n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=we(f),t.next=3,zt(r,p);case 3:if(401!==(n=t.sent).code){t.next=9;break}return l("error","Oops, there appears to be an error","The code you entered is invalid"),t.abrupt("return",e());case 9:if(200===n.code){t.next=12;break}return l("error","Oops, there appears to be an error",n.message),t.abrupt("return",e());case 12:l("success","Success","Two factor authentication has been enabled"),R(!0),o(),s.remove();case 17:case"end":return t.stop()}}),t)})))),d.addEventListener("click",(function(){o(),s.remove()}));case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(t,e,r){var n="otpauth://totp/".concat(e," (").concat(r,")?secret=").concat(t,"&issuer=").concat(e);return{url:"https://chart.googleapis.com/chart?chs=250x250&chld=L|0&cht=qr&chl=".concat(n),otp:n}}function R(t){for(var e=document.querySelectorAll("[data-has-tfa]"),r=0,n=Array.from(e);r<n.length;r++){n[r].setAttribute("data-has-tfa",t?"true":"false")}}function z(t,e){var r=[],n=function(n){var o=t[n],a=function(t,e,r,n,o){var a='\n        <div class="d-flex justify-content-center align-items-center flex-column col-2">\n            <div class="form-check form-switch">\n                <input class="form-check-input" type="checkbox" id="'.concat(n,'" ').concat(r?"checked":"",'>\n                <label class="form-check-label" for="').concat(n,'"></label>\n            </div>\n        </div>\n\n        <div class=\'col-10\'>\n            <h5 class="fw-bold">').concat(t,'</h5>\n            <p class="text-muted">').concat(e,"</p>\n        </div>\n    "),i=document.createElement("div");return i.classList.add("d-flex","justify-content-start","align-items-center","flex-wrap","mb-2","w-50"),i.setAttribute("data-key",n),i.innerHTML=a,i.querySelector("input").addEventListener("change",(function(t){o(t.target.checked)})),i}(o.name,o.help_text,o.value,n,(function(t){return e(n,t)}));r.push(a)};for(var o in t)n(o);return r}var U=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e&&(e=t);var r=function(){var r=function(t){var e=[];return(t.length<8||t.length>64)&&e.push("length"),t.match(/\d/)||e.push("number"),t.match(/[A-Z]/)||e.push("uppercase"),t.match(/[a-z]/)||e.push("lowercase"),t.match(/\s/)&&e.push("spaces"),e}(t.value);return r.forEach((function(t){e.setAttribute("data-error-".concat(t),"")})),["length","number","uppercase","lowercase","spaces"].forEach((function(t){r.includes(t)||e.removeAttribute("data-error-".concat(t))})),0===r.length?"3":1===r.length?"2":2===r.length?"1":3===r.length||4===r.length?"0":void 0};t.addEventListener("keyup",(function(){t.setAttribute("data-strength",r())})),t.addEventListener("blur",(function(){e.removeAttribute("data-strength")})),t.addEventListener("focus",(function(){e.setAttribute("data-strength",r())})),t.addEventListener("input",(function(){t.value.length>0&&t.setAttribute("data-strength",r())}))},$=function(t,e){var r=function(){return t.value===e.value?(e.setAttribute("data-strength","3"),!0):(e.setAttribute("data-strength","0"),!1)};e.addEventListener("keyup",(function(){r()})),e.addEventListener("blur",(function(){e.removeAttribute("data-strength")})),e.addEventListener("focus",(function(){r()})),e.addEventListener("input",(function(){e.value.length>0&&r()}))};function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function V(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==J(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===J(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X(){X=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==e&&r.call(m,a)&&(v=m);var g=p.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==J(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Z(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function K(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Z(a,n,o,i,c,"next",t)}function c(t){Z(a,n,o,i,c,"throw",t)}i(void 0)}))}}var tt=["security-preferences","security-mfa","security-linked-accounts","security-password","security-email","security-history","security-delete"],et=!1;var rt=[];function nt(){return ot.apply(this,arguments)}function ot(){return ot=K(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=K(X().mark((function t(e){var r,n,o;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=W(rt),t.prev=1,o=X().mark((function t(){var e;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=n.value,Jt(e).then((function(t){200===t.code&&l("success","verification","The previous verification email has been terminated")})),rt=rt.filter((function(t){return t!==e}));case 3:case"end":return t.stop()}}),t)})),r.s();case 4:if((n=r.n()).done){t.next=8;break}return t.delegateYield(o(),"t0",6);case 6:t.next=4;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),r.e(t.t1);case 13:return t.prev=13,r.f(),t.finish(13);case 16:return t.abrupt("return",e(void 0));case 17:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))),ot.apply(this,arguments)}function at(t){return it.apply(this,arguments)}function it(){return(it=K(X().mark((function t(e){var r,n,o,a,i,c;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=we(e),t.next=3,nt();case 3:return t.next=5,Ut("email");case 5:if(200===(n=t.sent).code){t.next=9;break}return l("error","verification","There was an error sending the verification email: "+n.message),t.abrupt("return",r());case 9:l("success","Please check your email","We have sent you a verification email, It will be valid for 15 Minutes"),o=n.data,a=o.access_key,i=o.resend_key,c=o.verify_key,rt.push(i),ie((function(){return c})).then(K(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",st(r,a));case 1:case"end":return t.stop()}}),t)}))));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ct(t){return ut.apply(this,arguments)}function ut(){return ut=K(X().mark((function t(e){var r,n,o,a,i=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:function(){return""},n=we(e),t.next=4,Ut("tfa",r());case 4:if(401!==(o=t.sent).code){t.next=10;break}return l("error","verification","The code you entered is invalid"),t.abrupt("return",n());case 10:if(200===o.code){t.next=13;break}return l("error","verification","There was an error verifying your code: "+o.message),t.abrupt("return",n());case 13:l("success","verification","Your code has been verified"),a=o.data.access_key,st(n,a);case 16:case"end":return t.stop()}}),t)}))),ut.apply(this,arguments)}function st(t,e){return lt.apply(this,arguments)}function lt(){return(lt=K(X().mark((function t(e,r){var n,o;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xt(r);case 2:if(n=t.sent,e(),200===n.code&&Object.keys(n).includes("data")){t.next=6;break}return t.abrupt("return",l("error","Oops, there appears to be an error",n.message));case 6:for(o in ft(n.data,r),tt)_(tt[o]);S("security-verified");case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ft(t,e){var r=document.querySelector("#security-timer"),n=document.querySelector(".security-items");r.setAttribute("data-panel-status",""),n.setAttribute("data-panel-status",""),k((function(t){"security"!==t?n.setAttribute("data-panel-status","hidden"):n.setAttribute("data-panel-status","")})),n.querySelectorAll("[data-sec-pod]").forEach((function(t){var e=t.getAttribute("data-sec-pod");t.addEventListener("click",(function(){return S(e)}))}));var o=document.querySelector("#security-panel");o.setAttribute("data-panel-status","hidden");var a=document;et=!0;var i=a.querySelector("#".concat("extend-verification-time-container")),c=i.querySelector("button"),u=i.querySelector("#extend-verification-time-timer"),s=9e5;c.onclick=K(X().mark((function t(){var r,n;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=we(c),t.next=3,Vt(e);case 3:if(n=t.sent,r(),200===n.code){t.next=7;break}return t.abrupt("return",l("error","Oops, there appears to be an error",n.message));case 7:l("success","Success","Your session has been extended by 15 minutes"),s=9e5;case 9:case"end":return t.stop()}}),t)})));var f=i.querySelector("#close-secure-session"),d=a.querySelector("#".concat("two-factor-authentication-container"));M(t,d,e);var h=a.querySelector("#".concat("linked-accounts-container"));!function(t){N.apply(this,arguments)}(h);var p=h.querySelector("#linked-accounts"),v=function(t){p.innerHTML="";var r,n=W(t.service_providers);try{for(n.s();!(r=n.n()).done;){var o=r.value,a=T(o,e);p.appendChild(a)}}catch(t){n.e(t)}finally{n.f()}};v(t);var y=a.querySelector("#".concat("change-password-container")),m=y.querySelector(".requirements"),g=y.querySelector(".password-errors"),b=y.querySelector("#change-password"),w=y.querySelector("#cpass"),L=y.querySelector("#npass"),E=y.querySelector("#cfpass");U(L,g),$(L,E),L.addEventListener("focus",(function(){return m.style.display="block"})),L.addEventListener("blur",(function(){m.style.display="none",L.removeAttribute("data-strength")})),b.onclick=K(X().mark((function t(){var r,n,o,a,i;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=we(b),n=w.value,o=L.value,a=E.value,o===a){t.next=5;break}return r(),t.abrupt("return",l("error","Oops, there appears to be an error","The passwords do not match"));case 5:return t.next=7,ee({token:e,old_password:n.trim(),password:o.trim()});case 7:if(200===(i=t.sent).code){t.next=12;break}l("error","Oops, there appears to be an error",i.message),t.next=16;break;case 12:return l("success","Success","Your password has been updated"),t.next=15,new Promise((function(t){return setTimeout(t,2e3)}));case 15:document.location="/";case 16:return t.abrupt("return",r());case 17:case"end":return t.stop()}}),t)})));var O=a.querySelector("#".concat("change-email-container")),j=O.querySelector("#email"),A=O.querySelector("#change-email"),P=O.querySelector(".current-email");P.innerText="Your current email is "+t.email,A.onclick=K(X().mark((function t(){var r,n,o,a;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=we(A),n=j.value,t.next=3,re(e,n);case 3:if(200===(o=t.sent).code){t.next=7;break}return r(),t.abrupt("return",l("error","Oops, there appears to be an error",o.message));case 7:l("success","Success","A verification email has been sent to your new email address"),a=o.data,ie((function(){return a.verify_key}),3e3,9e5,"Your email has been changed successfully!").then((function(t){r(),t?P.innerText="Your current email is "+n:l("error","Oops, there appears to be an error","Your email has not been changed")}));case 10:case"end":return t.stop()}}),t)})));var G=a.querySelector("#".concat("login-history-container")).querySelector("#login-history"),I=function(t){G.innerHTML="";var e,r=W(t.login_history);try{for(r.s();!(e=r.n()).done;){var n=e.value,o=q(n);G.appendChild(o)}}catch(t){r.e(t)}finally{r.f()}};I(t);a.querySelector("#".concat("delete-account-container"));var F=a.querySelector("#".concat("security-preferences-container")).querySelector(".toggles"),C=function(t){F.innerHTML="";var r=z(t.security_preferences,function(){var t=K(X().mark((function t(r,n){var o,a;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee((V(o={},r,n),V(o,"token",e),o));case 2:if(200===(a=t.sent).code){t.next=5;break}return t.abrupt("return",l("error","Oops, there appears to be an error",a.message));case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());r.forEach((function(t){return F.appendChild(t)}))};C(t);var Y=setInterval((function(){s-=1e3;var t=Math.floor(s/1e3/60),e=Math.floor(s/1e3)%60;u.innerText="".concat(t,":").concat(e<10?"0"+e:e),s<=0&&(l("error","Oops, there appears to be an error","Your session has expired, please refresh the page to continue"),S("security"))}),1e3),D=function(){for(var t in p.innerHTML="",G.innerHTML="",clearInterval(Y),clearInterval(H),et=!1,r.setAttribute("data-panel-status","hidden"),o.setAttribute("data-panel-status",""),tt)e=tt[t],n="security",a=void 0,(a=x(e))&&("active"===a.element.getAttribute("data-pod-status")&&S(n),a.element.setAttribute("data-pod-status","hidden"));var e,n,a;_("security"),S("security")},H=setInterval(K(X().mark((function t(){var r,n;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xt(e);case 2:if(200===(r=t.sent).code){t.next=6;break}return l("error","Oops, there appears to be an error",r.message),t.abrupt("return",D());case 6:n=r.data,et=!0,v(n),I(n),C(n);case 11:case"end":return t.stop()}}),t)}))),5e3);f.onclick=K(X().mark((function t(){var r,n;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=we(f),t.next=3,Wt(e);case 3:if(200===(n=t.sent).code){t.next=7;break}return r(),t.abrupt("return",l("error","Oops, there appears to be an error",n.message));case 7:l("success","Success","Your session has been closed"),r(),D();case 10:case"end":return t.stop()}}),t)})))}function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function ht(){ht=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==e&&r.call(m,a)&&(v=m);var g=p.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==dt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function pt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function vt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){pt(a,n,o,i,c,"next",t)}function c(t){pt(a,n,o,i,c,"throw",t)}i(void 0)}))}}function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function mt(){mt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==e&&r.call(m,a)&&(v=m);var g=p.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==yt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function gt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function bt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){gt(a,n,o,i,c,"next",t)}function c(t){gt(a,n,o,i,c,"throw",t)}i(void 0)}))}}function wt(t){var e=[];return t.forEach((function(t){var r=function(t){var e="\n    <div class='w-100'>\n        <div class='event d-flex justify-content-between align-items-center w-100'>\n            <p class='event-title'>".concat(t.event_name,"</p>\n            <p class='event-rating'>").concat(t.rating," / 10</p>\n            <p class='event-likes'>").concat(t.likes," ").concat(1===t.likes?"like":"likes","</p>\n            <p class='event-date'>").concat(new Date(t.created).toLocaleDateString(),"</p>\n        </div>\n        <hr>\n        <div class='d-flex justify-content-between align-items-start w-100 flex-column'>\n            <p class='review-title'><span class='title'>").concat(t.title,"</span> <span class='text-muted you'>- You</span></p>\n            <p class='review-body'>").concat(t.body,"</p>\n        </div>\n    </div>\n\n    <div class='btn-container d-flex justify-content-end align-items-center flex-column gap-2 h-100 flex-grow-0'>\n        <button \n            data-review-id='").concat(t.id,"'\n            class=\"w-100 h-100 btn btn-primary btn-lg info loader-btn edit-review-btn review-btn\"\n            loader-state='default'> <span> <div class='spinner-border' role='status'> \n            <span class='visually-hidden'>Loading...</span> </div> </span>\n            <p>Edit</p>\n        </button>\n\n        <button \n            data-review-id='").concat(t.id,"'\n            class=\"w-100 h-100 btn btn-danger btn-lg error loader-btn remove-review-btn review-btn\"\n            loader-state='default'> <span> <div class='spinner-border' role='status'> \n            <span class='visually-hidden'>Loading...</span> </div> </span>\n            <p>Delete</p>\n        </button>\n    </div>\n    "),r=document.createElement("div");return r.classList.add("review","d-flex","justify-content-between","align-items-center","w-100","gap-2"),r.innerHTML=e,r}(t),n=r.querySelector(".review-btn"),o=r.querySelector(".remove-review-btn");e.push(r),n.addEventListener("click",bt(mt().mark((function e(){var o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=we(n),xt(t,r),o();case 3:case"end":return e.stop()}}),e)})))),o.addEventListener("click",bt(mt().mark((function e(){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=we(o),Le(bt(mt().mark((function e(){var o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t.id);case 2:if(200===(o=e.sent).code){e.next=6;break}return n(),e.abrupt("return",l("error","Failed to delete review",o.message));case 6:l("success","Review deleted","Review deleted successfully"),r.remove(),n();case 9:case"end":return e.stop()}}),e)}))),(function(){return n()}),"Are you sure you want to delete this review?","Delete Review");case 2:case"end":return e.stop()}}),e)}))))})),e}function xt(t,e){return Lt.apply(this,arguments)}function Lt(){return(Lt=bt(mt().mark((function t(e,r){var n,o,a,i,c,u,s,f;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n='\n    <div class=\'mb-3\'>\n        \x3c!-- Rating | Title --\x3e\n        <div class=\'d-flex justify-content-between align-items-center w-100\'>\n            \x3c!-- Input --\x3e\n            <div class="h-100 w-25">\n                <label for="review-rating" class="form-label">Rating</label>\n                <input \n                    name="review-rating" \n                    id="review-rating" \n                    placeholder="0" \n                    value="'.concat(e.rating,'"\n                    type="number"\n                    min="0"\n                    max="10"\n                class="form-control form-control-lg inp-dark text-center">\n            </div>\n\n            \x3c!-- Input --\x3e\n            <div class="h-100 w-100">\n                <label for="review-title" class="form-label">Title</label>\n                <input \n                    name="review-title" \n                    id="review-title" \n                    placeholder="0" \n                    value="').concat(e.title,'"\n                class="form-control form-control-lg inp-dark">\n            </div>\n        </div>\n\n        \x3c!-- Body --\x3e\n        <div class=\'d-flex justify-content-between align-items-center w-100 mt-2\'>\n            <div class="h-100 w-100">\n                <label for="review-body" class="form-label">Body</label>\n                <textarea\n                    name="review-body"\n                    id="review-body"\n                    placeholder="0"\n                    value="').concat(e.body,'"\n                class="form-control form-control-lg inp-dark">').concat(e.body,"</textarea>\n            </div>\n        </div>\n    </div>\n    "),o=xe("Edit Review","Edit review",!0,"success",n),console.log(o),(a=document.createElement("div")).innerHTML=o,document.body.appendChild(a),i=a.querySelector(".yes"),c=a.querySelector(".no"),u=a.querySelector("#review-rating"),s=a.querySelector("#review-title"),f=a.querySelector("#review-body"),u.style["-moz-appearance"]="textfield",u.addEventListener("input",(function(){isNaN(parseInt(u.value))&&(u.value="0"),parseInt(u.value)>10?u.value="10":parseInt(u.value)<0&&(u.value="0")})),i.addEventListener("click",bt(mt().mark((function t(){var n,o;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=we(i),t.next=3,oe(e.id,parseInt(u.value),s.value,f.value);case 3:200!==(o=t.sent).code?l("error","Oops!",o.message):(l("success","Success!",o.message),a.remove(),r.getElementsByClassName("event-rating")[0].innerHTML="".concat(u.value," / 10"),r.getElementsByClassName("title")[0].innerHTML=s.value,r.getElementsByClassName("review-body")[0].innerHTML=f.value),n();case 6:case"end":return t.stop()}}),t)})))),c.addEventListener("click",(function(){a.remove()}));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function kt(){kt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==e&&r.call(m,a)&&(v=m);var g=p.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==Et(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function St(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _t(t,e){var r=t.getAttribute(e);return null!=r&&"-uu-"===r?"0":(r||(l("error","Configuration Error","No ".concat(e," found, please reload the page")),setTimeout((function(){window.location.reload()}),3e3)),r)}var Ot=document.getElementById("config"),jt={admin:"True"===_t(Ot,"data-admin"),username:_t(Ot,"data-username"),userid:_t(Ot,"data-userid"),useremail:_t(Ot,"data-useremail"),userfirst:_t(Ot,"data-userfirst"),userlast:_t(Ot,"data-userlast"),access_level:_t(Ot,"data-access-level"),profile_picture:_t(Ot,"data-profile-picture"),csrf_token:_t(Ot,"data-csrf-token"),send_verification:_t(Ot,"data-send-verification"),resend_verification:_t(Ot,"data-resend-verification"),remove_verification:_t(Ot,"data-remove-verification"),recent_verification:_t(Ot,"data-recent-verification"),security_info:_t(Ot,"data-security-info"),update_profile:_t(Ot,"data-update-profile"),remove_oauth:_t(Ot,"data-remove-oauth"),extend_session:_t(Ot,"data-extend-session"),close_session:_t(Ot,"data-close-session"),change_email:_t(Ot,"data-change-email"),setup_mfa:_t(Ot,"data-mfa-setup"),verify_mfa:_t(Ot,"data-mfa-verify"),disable_mfa:_t(Ot,"data-mfa-disable"),add_payment:_t(Ot,"data-add-payment"),get_payments:_t(Ot,"data-get-payments"),remove_payment:_t(Ot,"data-remove-payment"),start_subscription:_t(Ot,"data-start-subscription"),get_reviews:_t(Ot,"data-get-reviews"),update_review:_t(Ot,"data-update-review"),delete_review:_t(Ot,"data-delete-review")};!function(){var t=document.querySelectorAll("[data-pod]");document.querySelectorAll("[data-panel-type]").forEach((function(t){return b.push({element:t,type:t.getAttribute("data-panel-type")})})),function(){var t=document.getElementById("navbar-carrot"),e=document.getElementById("main-container"),r=document.getElementById("side-panel"),n=function(t){t?(document.body.style.overflow="hidden",e.style.overflow="hidden"):(document.body.style.overflow="auto",e.style.overflow="auto")};if(!t||!r||!e)return l("error","Error","There was an error loading the sidepanel, site functionality might be impaired.");t.addEventListener("change",y(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.disabled=!0,e.t0=t.checked,e.next=!0===e.t0?4:!1===e.t0?7:10;break;case 4:return r.setAttribute("side-panel","in"),n(!0),e.abrupt("break",10);case 7:return r.setAttribute("side-panel","out"),n(!1),e.abrupt("break",10);case 10:be(500).then((function(){switch(t.checked){case!0:r.setAttribute("side-panel","visible");break;case!1:r.setAttribute("side-panel","hidden")}t.disabled=!1}));case 11:case"end":return e.stop()}}),e)}))))}();var e=document.querySelector("#admin-options");!0===jt.admin&&(null==e||e.setAttribute("data-pod-status","")),t.forEach((function(t){var e=t.getAttribute("data-pod"),r=function(t){var e,r=m(b);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(n.type===t)return n}}catch(t){r.e(t)}finally{r.f()}}(e);if(r){var n={element:t,panel:r,type:e};w.push(n),t.addEventListener("click",(function(){return S(e)}))}}))}();var At=x("security");At&&function(t){var e=t.panel.element,r=e.querySelector("#mfa-input"),n=e.querySelector("#send-verification-email"),o=e.querySelector("#verify-tfa");k(K(X().mark((function t(){var e,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(et){t.next=2;break}return t.abrupt("return");case 2:e=document.querySelector("#security-timer"),r=L(),-1===tt.indexOf(r.type)&&"security"!==r.type?e.setAttribute("data-panel-status","hidden"):e.setAttribute("data-panel-status","");case 5:case"end":return t.stop()}}),t)})))),o.disabled=!0;var a="";Ee(r,(function(t){o.disabled=!1,a=t}),(function(){return o.disabled=!0})),n.addEventListener("click",K(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",at(n));case 1:case"end":return t.stop()}}),t)})))),o.addEventListener("click",K(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct(o,(function(){return a}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))))}(At);var Pt,Tt,Nt=x("payment");Nt&&(Tt=(Pt=Nt).panel.element,function(t){var e=t.panel.element,r=e.querySelector("#add-card");r.addEventListener("click",fe(se().mark((function t(){var r,n,a;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=document.createElement("div")).innerHTML=o(),document.body.appendChild(r),n=r.querySelector(".yes"),a=pe(r),n.addEventListener("click",fe(se().mark((function t(){var o,i;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=we(n),t.next=3,Zt(a());case 3:if(200===(i=t.sent).code){t.next=6;break}return t.abrupt("return",l("error","Payments",i.message));case 6:l("success","Payments","Success! We have added your card!"),r.remove(),de(e),o();case 10:case"end":return t.stop()}}),t)}))));case 6:case"end":return t.stop()}}),t)}))))}(Pt),de(Tt));var qt=x("streamstageplus");qt&&function(t){ke(t.panel.element.querySelector(".pay-now"))}(qt);var Gt=x("profile");Gt&&function(t){var e=t.panel.element,r=e.querySelector("#username"),n=e.querySelector("#fname"),o=e.querySelector("#lname"),a=e.querySelector("#bio"),i=e.querySelector("#timezone"),c=e.querySelector("#country"),u=e.querySelector("#save-btn");u.addEventListener("click",vt(ht().mark((function t(){var e,s,f;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=we(u),s={username:r.value.trim(),description:a.value.trim(),first_name:n.value.trim(),last_name:o.value.trim(),time_zone:i.value.trim(),country:c.value.trim()},t.next=4,ee(s);case 4:return 200!==(f=t.sent).code?l("error","Oops!",f.message):l("success","Success!",f.message),t.abrupt("return",e());case 7:case"end":return t.stop()}}),t)}))))}(Gt);var It=x("reviews");function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function Ct(){Ct=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==e&&r.call(m,a)&&(v=m);var g=p.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==Ft(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Mt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Yt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Mt(a,n,o,i,c,"next",t)}function c(t){Mt(a,n,o,i,c,"throw",t)}i(void 0)}))}}function Dt(t,e,r){return Ht.apply(this,arguments)}function Ht(){return(Ht=Yt(Ct().mark((function t(e,r,n){var o,a;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(r,{method:e,headers:{"Content-Type":"application/json","X-CSRFToken":jt.csrf_token},body:"GET"===e?void 0:JSON.stringify(n)});case 2:return o=t.sent,t.prev=3,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",{data:a.data,code:o.status,message:a.message});case 10:return t.prev=10,t.t0=t.catch(3),t.abrupt("return",{code:o.status,message:"An unknown error has occured, "+t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))).apply(this,arguments)}It&&function(t){var e=t.panel.element,r=e.querySelector(".reviews"),n=e.querySelector("#filter"),o=e.querySelector("#order"),a=e.querySelector(".prev"),i=e.querySelector(".next"),c=e.querySelector("#review-page"),u=e.querySelector(".out-of"),s=0,f=0;function d(){return h.apply(this,arguments)}function h(){var t;return t=kt().mark((function t(){var e,d,h;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(n.value,o.value,s);case 2:if(200===(e=t.sent).code){t.next=5;break}return t.abrupt("return",l("error","Oops!","There was an error while trying to get the reviews, please try again later."));case 5:d=e.data,h=wt(d.reviews),r.innerHTML="",h.forEach((function(t){return r.appendChild(t)})),u.innerText="out of "+Number(d.pages),c.value=s+1+"",f=d.pages,a.disabled=0===s,i.disabled=s===f-1,0===d.reviews.length&&(r.innerHTML='<div class="no-reviews w-100 h-100 d-flex justify-content-center align-items-center"><h3 class="text-center text-muted">You have made no reviews</h3></div>');case 14:case"end":return t.stop()}}),t)})),h=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){St(a,n,o,i,c,"next",t)}function c(t){St(a,n,o,i,c,"throw",t)}i(void 0)}))},h.apply(this,arguments)}a.disabled=!0,a.addEventListener("click",(function(){if(0===s)return a.disabled=!0;s--,d()})),i.addEventListener("click",(function(){s!==f&&(a.disabled=!1,s++,d())})),c.addEventListener("change",(function(){var t=parseInt(c.value);t<1||t>f||(s=t-1,d())})),n.addEventListener("change",d),o.addEventListener("change",d),d()}(It);var Bt=function(){var t=Yt(Ct().mark((function t(e){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.disable_mfa,{token:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Rt=function(){var t=Yt(Ct().mark((function t(e){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.setup_mfa,{token:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),zt=function(){var t=Yt(Ct().mark((function t(e,r){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.verify_mfa,{token:e,otp:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),Ut=function(){var t=Yt(Ct().mark((function t(e,r){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.send_verification,{mode:e,mfa:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),$t=function(){var t=Yt(Ct().mark((function t(e){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.recent_verification,{token:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Jt=function(){var t=Yt(Ct().mark((function t(e){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.remove_verification,{token:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Vt=function(){var t=Yt(Ct().mark((function t(e){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.extend_session,{token:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Wt=function(){var t=Yt(Ct().mark((function t(e){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.close_session,{token:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Qt=function(){var t=Yt(Ct().mark((function t(e,r){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.remove_oauth,{token:e,oauth_id:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),Xt=function(){var t=Yt(Ct().mark((function t(e){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.security_info,{token:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Zt=function(){var t=Yt(Ct().mark((function t(e){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.add_payment,e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Kt=function(){var t=Yt(Ct().mark((function t(){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("GET",jt.get_payments,{}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),te=function(){var t=Yt(Ct().mark((function t(e){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.remove_payment,{id:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ee=function(){var t=Yt(Ct().mark((function t(e){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.update_profile,e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),re=function(){var t=Yt(Ct().mark((function t(e,r){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.change_email,{token:e,email:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),ne=function(){var t=Yt(Ct().mark((function t(e,r,n){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.get_reviews,{sort:e,order:r,page:n}));case 1:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),oe=function(){var t=Yt(Ct().mark((function t(e,r,n,o){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.update_review,{id:e,rating:r,title:n,body:o}));case 1:case"end":return t.stop()}}),t)})));return function(e,r,n,o){return t.apply(this,arguments)}}(),ae=function(){var t=Yt(Ct().mark((function t(e){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Dt("POST",jt.delete_review,{id:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function ie(t){return ce.apply(this,arguments)}function ce(){return ce=Yt(Ct().mark((function t(e){var r,n,o,a=arguments;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:3e3,n=a.length>2&&void 0!==a[2]?a[2]:9e5,o=a.length>3&&void 0!==a[3]?a[3]:"Your email has been verified, you'll be given access to your account in a few seconds.",t.abrupt("return",new Promise(function(){var t=Yt(Ct().mark((function t(a,i){var c,u;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=!1,u=setInterval(Yt(Ct().mark((function t(){var r;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$t(e());case 2:if(404!==(r=t.sent).code){t.next=6;break}t.next=16;break;case 6:if(200!==r.code){t.next=13;break}return l("success","Congratulations!",o),clearInterval(u),c=!0,t.abrupt("return",a(!0));case 13:return l("error","Error",r.message),clearInterval(u),t.abrupt("return",i(!1));case 16:case"end":return t.stop()}}),t)}))),r),setTimeout((function(){clearInterval(u),i(!1),c||l("error","Error","The verification email has expired")}),n);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t)}))),ce.apply(this,arguments)}function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function se(){se=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==e&&r.call(m,a)&&(v=m);var g=p.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==ue(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function le(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function fe(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){le(a,n,o,i,c,"next",t)}function c(t){le(a,n,o,i,c,"throw",t)}i(void 0)}))}}function de(t){return he.apply(this,arguments)}function he(){return he=fe(se().mark((function t(e){var n,o,a,i,c=arguments;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(c.length>1&&void 0!==c[1])||c[1],t.next=3,Kt();case 3:if(200===(o=t.sent).code){t.next=6;break}return t.abrupt("return",l("error","verification","There was an error while trying to get your cards, please try again later."));case 6:a=o.data,(i=e.querySelector(".cards")).innerHTML="",console.log(a.length),0===a.length&&(i.innerHTML='<div class="no-cards w-100 h-100 d-flex justify-content-center align-items-center"><h3 class="text-center">You have no cards saved</h3></div>'),a.forEach((function(t){var e=r(t,n);i.appendChild(e.card),n&&e.button.addEventListener("click",fe(se().mark((function r(){var n;return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=we(e.button),Le(fe(se().mark((function r(){return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,te(t.id);case 2:200!==r.sent.code?l("error","Payments","There was an error while trying to remove your card, please try again later."):(e.card.remove(),e.card.remove(),l("success","Payments","Success! We have removed your card!")),n();case 5:case"end":return r.stop()}}),r)}))),(function(){return n()}),"Are you sure you want to remove this card?");case 2:case"end":return r.stop()}}),r)}))))}));case 11:case"end":return t.stop()}}),t)}))),he.apply(this,arguments)}function pe(t){var r=t.querySelector(".yes"),n=t.querySelector(".no"),o=t.querySelector("#cardnumber"),a=t.querySelector("#card-expiry"),i=t.querySelector("#card-cvc"),c=t.querySelector("#card-name");n.addEventListener("click",(function(){return t.remove()}));var u=function(){return o.value.length<13||a.value.length<5||i.value.length<3||c.value.length<3?r.disabled=!0:r.disabled=!1};[o,a,i,c].forEach((function(t){return t.addEventListener("input",u)})),u();var s=t.querySelector(".card-type").querySelector("i");return o.addEventListener("input",(function(){var t=e(o.value);s.className=function(t){switch(t){case"Visa":return"fa-brands fa-cc-visa";case"Mastercard":return"fa-brands fa-cc-mastercard";case"American Express":return"fa-brands fa-cc-amex";case"Discover":return"fa-brands fa-cc-discover";case"Diners Club":return"fa-brands fa-cc-diners-club";case"JCB":case"UnionPay":case"Maestro":return"fa-brands fa-cc-jcb";default:return"fas fa-credit-card"}}(t)+" align-self-center";var r=o.value.replace(/\D/g,"");o.value=r.replace(/(\d{4})/g,"$1 ").trim()})),a.addEventListener("keydown",(function(t){if(!(t.key.length>1)){var e=a.value.replace(/\D/g,"");a.value=e.replace(/(^\d{2})/g,"$1/").slice(0,6)}})),function(){u();var t=a.value.split("/");return{card:o.value,exp_month:parseInt(t[0]),exp_year:parseInt(t[1]),cvc:i.value,name:c.value}}}function ve(t){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(t)}function ye(){ye=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==e&&r.call(m,a)&&(v=m);var g=p.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==ve(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function me(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ge(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){me(a,n,o,i,c,"next",t)}function c(t){me(a,n,o,i,c,"throw",t)}i(void 0)}))}}function be(t){return new Promise((function(e){return setTimeout(e,t)}))}function we(t){return t.disabled=!0,t.setAttribute("loader-state","hide-text"),function(){return new Promise(function(){var e=ge(ye().mark((function e(r){return ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(1e3);case 2:t.setAttribute("loader-state","show-text"),t.disabled=!1,r();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}function xe(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a='\n        \x3c!-- Continue --\x3e\n        <button type="submit" class="btn yes btn-'.concat(n,' btn-lg w-75">\n            Continue\n        </button>\n\n        \x3c!-- Continue --\x3e\n        <button type="submit" class="btn no btn-danger btn-lg w-25 error">\n            Cancel\n        </button>\n    ');return'\n        <div\n            style="z-index: 9999; position: fixed; top: 0; left: 0; width: 100vw;\n                height: 100vh; background-color: rgba(0, 0, 0, 0.5);">\n\n            \x3c!-- Modal --\x3e\n            <div class="modal d-flex justify-content-center align-items-center"\n                style="z-index: 9999; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; \n                background-color: rgba(0, 0, 0, 0.5);">\n\n                \x3c!-- Modal content --\x3e\n                <div \n                    class="modal-content bg-dark text-light rounded\n                    p-xxl-5 p-xl-5 p-lg-5 p-md-3 p-sm-3 p-2"\n                    style="width: 500px;"\n                >\n\n                    \x3c!-- Header --\x3e\n                    <div class="mb-2 justify-content-start header">\n                        \x3c!-- Header --\x3e\n                        <h1 class="fw-bold ">'.concat(t,'</h1>\n\n                        \x3c!-- Descriptiopn --\x3e\n                        <p class="text-muted">').concat(e,'</p>\n                    </div>\n                    \n                    \x3c!-- Custom --\x3e\n                    <div class="d-flex justify-content-lg-start justify-content-center flex-column custom">\n                        ').concat(o||"",'\n                    </div>\n                    \n                    \x3c!-- Buttons --\x3e\n                    <div class="justify-content-lg-start justify-content-center d-flex buttons w-100 pop-up-buttons">\n                        ').concat(r?a:"","\n                    </div>\n                </div>\n            </div>\n        </div>\n    ")}function Le(t,e,r){var n=xe(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Are you sure?",r,!0,"danger"),o=document.createElement("div");o.innerHTML=n;var a=o.querySelector(".yes"),i=o.querySelector(".no");a.addEventListener("click",ge(ye().mark((function e(){return ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(),o.remove();case 2:case"end":return e.stop()}}),e)})))),i.addEventListener("click",ge(ye().mark((function t(){return ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(),o.remove();case 2:case"end":return t.stop()}}),t)})))),document.body.appendChild(o)}function Ee(t,e,r){for(var n=function(){var n=Array.from(t.querySelectorAll("input")).map((function(t){return t.value}));n.length===o?e(n.join("")):r()},o=6,a=0;a<o;a++){var i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("name","tfa"),i.setAttribute("maxlength","1"),i.setAttribute("autocomplete","off"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck","false"),i.setAttribute("pattern","[0-9a-zA-Z]*"),i.style.caretColor="transparent",i.style.width="3rem",i.classList.add("form-control"),i.classList.add("text-center"),i.classList.add("form-control-lg"),i.classList.add("inp"),i.addEventListener("keyup",(function(t){var e=t.target;switch(t.key){case"Backspace":var r=e.previousElementSibling;return r&&r.focus(),void n();case"ArrowLeft":var o=e.previousElementSibling;return void(o&&o.focus());case"ArrowRight":var a=e.nextElementSibling;return void(a&&a.focus())}e.value=t.key,n();var i=e.nextElementSibling;i&&i.focus()})),t.appendChild(i),i.addEventListener("paste",(function(e){e.preventDefault();for(var r=e.clipboardData.getData("text/plain").slice(0,o),n=0;n<r.length;n++){var a=r.charAt(n);if(!isNaN(parseInt(a)))t.querySelectorAll("input")[n].value=a}}))}}function ke(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Pay Now",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You will be charged $9.99 USD / month",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Monthly Subscription",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"$9.99 USD / month",u=function(t){var u,s,l=document.createElement("div");l.innerHTML=a(e,n,o,c),document.body.appendChild(l);var f=l.querySelector(".yes"),d=l.querySelector(".no"),h=l.querySelector(".go-back");h.style.display="none",f.disabled=!0;var p,v,y,m,g=(p=l,v=function(){var t=ge(ye().mark((function t(e){return ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u=e,s=e,f.disabled=!1;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y="",m=function(){for(var t=Array.from(p.querySelectorAll(".cards-body")),e=function(){var e=n[r];e.addEventListener("click",(function(){p.setAttribute("dropdown",open.toString()),e.setAttribute("data-selected","true"),y=e.getAttribute("card-id"),v({id:e.getAttribute("card-id"),exp_month:Number(e.getAttribute("card-exp-month")),exp_year:Number(e.getAttribute("card-exp-year")),last4:e.getAttribute("card-last4"),brand:e.getAttribute("card-brand"),created:Number(e.getAttribute("card-created"))});for(var r=0,n=t;r<n.length;r++){var o=n[r];o!==e&&o.removeAttribute("data-selected")}})),e.getAttribute("card-id")===y&&e.setAttribute("data-selected","true")},r=0,n=t;r<n.length;r++)e();0===t.length&&p.setAttribute("no-cards","true")},ge(ye().mark((function t(){return ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:de(p,!0).then((function(){return m()}));case 1:case"end":return t.stop()}}),t)})))),b=pe(l);l.querySelector(".save-card");g();var w=l.querySelector(".payment-select"),x=l.querySelector(".pay-now-modal"),L=(l.querySelector(".pay-confirm"),w.querySelector(".pay-now-slider")),E=L.querySelector(".new-card"),k=L.querySelector(".saved-card"),S=l.querySelector(".final-card");E.addEventListener("click",(function(){w.setAttribute("data-mode","new"),f.disabled=!0,b()})),k.addEventListener("click",(function(){w.setAttribute("data-mode","saved"),(u=s)&&(f.disabled=!1),g()}));var _=0;f.addEventListener("click",ge(ye().mark((function t(){var e;return ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=_,t.next=0===t.t0?3:1===t.t0?10:11;break;case 3:return"new"===w.getAttribute("data-mode")&&(u=b()),x.setAttribute("data-mode","confirm"),h.style.display="block",e=r(i(u),!1),S.innerHTML=e.card.innerHTML,t.abrupt("break",11);case 10:return t.abrupt("break",11);case 11:case"end":return t.stop()}}),t)})))),h.addEventListener("click",(function(){x.setAttribute("data-mode","select"),h.style.display="none",_=0})),d.addEventListener("click",(function(){t()}))};t.addEventListener("click",(function(){var e=we(t);u(e)}))}ke(document.querySelector("#buy-streaming-ticket"),"Purchase Streaming Ticket","Test","Ticket","10.20");var Se=document.querySelector("#add-review-panel");Se&&function(t,e){e||Oe(t)}(Se,!0);var _e=document.querySelector("#admin-review-override-btn");function Oe(t){t.setAttribute("elem-status","hidden")}function je(t){t.setAttribute("elem-status","shown")}_e&&function(t,e){t.addEventListener("click",(function(){je(e),Oe(t)}))}(_e,Se)})();