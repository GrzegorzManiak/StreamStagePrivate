/*! For license information please see feature-floating-minerals.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[735,592,63,889,982],{724:(t,e,n)=>{n.d(e,{DN:()=>l});var r=n(609);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function a(t,e,n){return(e=c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}var u=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"attribute",void 0),a(this,"type",void 0),a(this,"cast",void 0),this.type=n,this.cast=r||n,this.attribute=e}var e,n,r;return e=t,(n=[{key:"cast_value",value:function(t){switch(this.cast){case"string":case"function":return t;case"number":return Number(t);case"boolean":return Boolean("true"===t.toLowerCase());case"object":return JSON.parse(t);case"undefined":return;case"bigint":return BigInt(t);case"symbol":return Symbol(t);case"null":return null}}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){var e=document.querySelectorAll(".config"),n=function(t){var e={};return Object.keys(t).forEach((function(n){var r=t[n];e[r.attribute]={type:r,name:n}})),e}(t),o=["class","id"],i={};return e.forEach((function(t){Array.from(t.attributes).forEach((function(e){o.includes(e.name)||n.hasOwnProperty(e.name)&&(i[n[e.name].name]=n[e.name].type.cast_value(function(t,e){var n=t.getAttribute(e);return n||((0,r.Xj)("error","Configuration Error","No ".concat(e," found, please reload the page")),setTimeout((function(){window.location.reload()}),3e3)),n}(t,e.name)))}))})),Object.keys(t).forEach((function(t){i.hasOwnProperty(t)||(0,r.Xj)("error","Configuration Error","No ".concat(t," found, please reload the page"))})),i}function l(){return s({csrf_token:new u("data-csrf-token","string"),recent_verification:new u("data-recent-verification","string"),resend_verification:new u("data-resend-verification","string")})}},609:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){o=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),c=new O(r||[]);return i(a,"_invoke",{value:E(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function v(){}function p(){}function y(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,w=g&&g(g(S([])));w&&w!==e&&n.call(w,c)&&(m=w);var b=y.prototype=v.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(i,a,c,u){var s=d(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=L(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function L(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,i(b,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:p,configurable:!0}),p.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(b),l(b,s,"Generator"),l(b,c,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){i(a,r,o,c,u,"next",t)}function u(t){i(a,r,o,c,u,"throw",t)}c(void 0)}))}}function c(t){return new Promise((function(e){return setTimeout(e,t)}))}function u(t,e,n){var r=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i='\n \x3c!-- Continue --\x3e\n <button type="submit" class="btn yes btn-'.concat(r,' btn-lg w-75">\n Continue\n </button>\n\n \x3c!-- Continue --\x3e\n <button type="submit" class="btn no btn-danger btn-lg w-25 error">\n Cancel\n </button>\n ');return'\n <div\n style="z-index: 9999; position: fixed; top: 0; left: 0; width: 100vw;\n height: 100vh; background-color: rgba(0, 0, 0, 0.5);">\n\n <style>\n body {\n overflow: hidden!important;\n }\n </style>\n\n \n \x3c!-- Modal --\x3e\n <div class="modal d-flex justify-content-center align-items-center"\n style="z-index: 9999; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; \n background-color: rgba(0, 0, 0, 0.5);">\n\n \x3c!-- Modal content --\x3e\n <div \n class="modal-content bg-dark text-light rounded\n p-xxl-5 p-xl-5 p-lg-5 p-md-3 p-sm-3 p-2"\n style="width: 500px;"\n >\n\n \x3c!-- Header --\x3e\n <div class="mb-2 justify-content-start header">\n \x3c!-- Header --\x3e\n <h1 class="fw-bold ">'.concat(t,'</h1>\n\n \x3c!-- Descriptiopn --\x3e\n <p class="text-muted">').concat(e,'</p>\n </div>\n \n \x3c!-- Custom --\x3e\n <div class="d-flex justify-content-lg-start justify-content-center flex-column custom">\n ').concat(o||"",'\n </div>\n \n \x3c!-- Buttons --\x3e\n <div class="justify-content-lg-start justify-content-center d-flex buttons w-100 pop-up-buttons">\n ').concat(n?i:"","\n </div>\n </div>\n </div>\n </div>\n ")}(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Are you sure?",n,!0,"danger"),i=document.createElement("div");i.innerHTML=r;var c=i.querySelector(".yes"),u=i.querySelector(".no");c.addEventListener("click",a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(),i.remove();case 2:case"end":return e.stop()}}),e)})))),u.addEventListener("click",a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(),i.remove();case 2:case"end":return t.stop()}}),t)})))),document.body.appendChild(i)}n.d(e,{Xj:()=>s,_v:()=>c,y6:()=>u});var s=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=document.getElementById("toasts");if(!i)throw new Error("No toasts element found");var a="\n <div \n toast-type='".concat(t,"'\n class='\n toast\n d-flex\n align-items-center\n justify-content-start\n '\n >\n \x3c!-- Icon, pinned to the top --\x3e\n <div class='toast-icon col-1'>\n <i class=\"fa-regular fa-circle-check\" icon='success'></i>\n <i class=\"fa-solid fa-triangle-exclamation\" icon='warning'></i>\n <i class=\"fa-solid fa-exclamation\" icon='error'></i>\n <i class=\"fa-solid fa-circle-info\" icon='info'></i>\n </div>\n\n \x3c!-- Content --\x3e\n <div class='toast-content col-9'>\n <p class='toast-content-header m-0'>").concat(e,"</p>\n <p class='toast-content-text m-0'>").concat(n,"</p>\n <p class='toast-content-time m-0'>Now</p>\n </div>\n\n \x3c!-- Close button --\x3e\n <div class='toast-close col-2'>\n <i class=\"fa-solid fa-times\"></i>\n </div>\n </div>\n "),c=document.createElement("div");c.innerHTML=a;var u=c.querySelector(".toast-close"),s=c.querySelector(".toast-content-time"),f=new Date,d=setInterval((function(){var t,e,n;s.innerText=(t=f,e=(Date.now()-t.getTime())/1e3,((n=[{threshold:0,label:"Just now"},{threshold:6e4,label:"A few seconds ago"},{threshold:36e5,label:"A few minutes ago"},{threshold:864e5,label:"A few hours ago"},{threshold:6048e5,label:"A few days ago"},{threshold:1/0,label:"A while ago"}]).find((function(t){var n=t.threshold;return e<=n}))||n[n.length-1]).label)}),1e3);u.addEventListener("click",(function(){l(c,i),clearInterval(d),o()})),setTimeout((function(){l(c,i),clearInterval(d),o()}),r),i.appendChild(c)};function l(t,e){return f.apply(this,arguments)}function f(){return(f=a(o().mark((function t(e,n){var r,i,a,u,s,l,f,d,h,v,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=1e3,e.classList.add("toast-out"),i=e.children[0],a=getComputedStyle(i),u=a.getPropertyValue("margin-bottom"),s=e.offsetHeight+parseInt(u),l=n.children,f=Array.from(l).indexOf(e),e.style.animation&&(e.style.animation=""),d=0;case 8:if(!(d<l.length)){t.next=19;break}if(h=l[d],!(d<=f)){t.next=12;break}return t.abrupt("continue",16);case 12:if(!h.classList.contains("toast-out")){t.next=14;break}return t.abrupt("continue",16);case 14:h.style.setProperty("--toast-adjust-height","-".concat(s,"px")),h.style.animation="toast_adjust ".concat(r,"ms ease-in-out");case 16:d++,t.next=8;break;case 19:return t.next=21,c(r);case 21:e.classList.remove("toast-out"),v=0;case 23:if(!(v<l.length)){t.next=31;break}if(p=l[v],!(v<=f)){t.next=27;break}return t.abrupt("continue",28);case 27:p.style.animation="";case 28:v++,t.next=23;break;case 31:e.remove();case 32:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},485:(t,e,n)=>{n.d(e,{O9:()=>Pt,DN:()=>Ot,Ej:()=>It,s8:()=>Tt,mL:()=>St,tv:()=>Nt});var r=n(920);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=[],s=function(){return u};function l(t){var e=["#6fd08c","#8bc76d","#a5bc53","#beae40","#d49f39","#e88d3f","#f67a4f","#ff6666"],n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)/e.length,r=Math.floor(t.connection.weight/n);t.conva_line.stroke(e[r])}function f(t){var e=t.connection.node_a.conva_circle.radius(),n=t.connection.node_b.conva_circle.radius(),r=t.connection.node_a.conva_circle.x(),o=t.connection.node_a.conva_circle.y(),i=t.connection.node_b.conva_circle.x(),a=t.connection.node_b.conva_circle.y(),c=Math.sqrt(Math.pow(i-r,2)+Math.pow(a-o,2)),u=r+e/c*(i-r),s=o+e/c*(a-o),l=i+n/c*(r-i),f=a+n/c*(o-a),d=[u,s,l,f];t.conva_line.points(d);var h=(u+l)/2,v=(s+f)/2;t.conva_text.x(h),t.conva_text.y(v)}function d(t){t.conva_line.strokeWidth(2),t.conva_line.moveToBottom(),t.conva_text.moveToBottom(),t.conva_text.text(t.connection.weight.toString()),f(t),l(t)}var h=n(609),v=document.getElementById("node-tooltip"),p=v.firstElementChild,y=0,m=0;function g(t){var e=v.style.display;v.style.display="block",y=p.clientWidth,m=p.clientHeight,v.style.display=e,v.style.display="fixed",p.classList.add("fade-in"),v.style.display="block"}function w(){document.getElementById("node-tooltip").style.display="none",p.classList.remove("fade-in")}function b(t){var e=t.conva_circle.absolutePosition(),n=t.conva_circle.getRelativePointerPosition(),r=window.innerWidth,o=window.innerHeight,i=e.x,a=e.y+m;i+y>r?e.x-=y+2*t.conva_circle.radius()+5:e.x+=t.conva_circle.radius(),a>o?e.y-=m-2*t.conva_circle.radius():e.y+=3*t.conva_circle.radius(),v.style.left="".concat(e.x+n.x,"px"),v.style.top="".concat(e.y+n.y,"px")}var x=document.getElementById("node-rightclick"),_=x.firstElementChild,E=0,L=0,k=(document.getElementById("open"),document.getElementById("shutdown")),j=document.getElementById("graceful-shutdown"),O=document.getElementById("reboot"),S=document.getElementById("graceful-reboot");function P(t){var e=x.style.display;x.style.display="block",E=_.clientWidth,L=_.clientHeight,x.style.display=e,x.style.display="fixed",_.classList.add("fade-in"),x.style.display="block",function(t){var e=t.conva_circle.absolutePosition(),n=t.conva_circle.getRelativePointerPosition(),r=window.innerWidth,o=window.innerHeight,i=e.x,a=e.y+L;i+E>r?e.x-=E+2*t.conva_circle.radius()+5:e.x+=t.conva_circle.radius();a>o?e.y-=L-2*t.conva_circle.radius():e.y+=3*t.conva_circle.radius();x.style.left="".concat(e.x+n.x,"px"),x.style.top="".concat(e.y+n.y,"px")}(t)}function T(){x.style.display="none",_.classList.remove("fade-in")}k.addEventListener("click",(function(){(0,h.y6)((function(){}),(function(){}),"Are you sure you want to shutdown this server? This will cause all users to be disconnected.")})),j.addEventListener("click",(function(){(0,h.y6)((function(){}),(function(){}),"Are you sure you want to shutdown this server? This will cause the server to stop accepting new connections, but will allow current connections to finish.")})),O.addEventListener("click",(function(){(0,h.y6)((function(){}),(function(){}),"Are you sure you want to reboot this server? This will cause all users to be disconnected.")})),S.addEventListener("click",(function(){(0,h.y6)((function(){}),(function(){}),"Are you sure you want to reboot this server? This will cause the server to stop accepting new connections, but will allow current connections to finish.")}));var I=n(971),N=n(440),M=!0;function A(t,e){var n,o,i,c,s,d;bt().forEach((function(e){t.nodes.find((function(t){return t.node_id===e.node.node_id}))||(xt(e.node.node_id),!1===M&&(0,h.Xj)("info","Node Removed","Node ".concat(e.node.node_id," has been removed from the network")))})),n=t.nodes.filter((function(t){return"Ingress"===t.node_type})).length,o=t.nodes.filter((function(t){return"Relay"===t.node_type})).length,i=t.nodes.filter((function(t){return"Edge"===t.node_type})).length,bt().forEach((function(t){var e,r,a;switch(t.node.node_type){case"Ingress":if((null===(e=t.node)||void 0===e?void 0:e.z)>n)return n=t.node.z;break;case"Relay":if((null===(r=t.node)||void 0===r?void 0:r.z)>o)return o=t.node.z;break;case"Edge":if((null===(a=t.node)||void 0===a?void 0:a.z)>i)return i=t.node.z}})),c=n,s=o,d=i;var v=function(t,e,n){var r=Math.max(t,e,n),o=r*pt,i=3*vt+yt,a=St.width()/2-i/2,c=St.height()/2-o/5;return{x:a,y:c}}(n,o,i),p=v.x,y=v.y;t.nodes.forEach((function(t){switch(t.node_type){case"Ingress":t.z=--c;break;case"Relay":t.z=--s;break;case"Edge":t.z=--d}var n=e.find((function(e){return e.id===t.node_name}))||void 0,a=function(t,e,n,o,i){var a,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:150,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:200,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,f=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(wt);try{for(f.s();!(a=f.n()).done;){var d=a.value,v=d;if(v.node.node_id===t.node_id)return v.node.node_type=t.node_type,v.node.node_latency=t.node_latency,v.node.node_usage=t.node_usage,_t(v.node,e,n,c,u),Et(d.conva_text,d.conva_circle),v.focused&&mt(v),v}}catch(t){f.e(t)}finally{f.f()}var p=new r.Z.Circle({radius:20,fill:"transparent",stroke:"black",strokeWidth:3,draggable:!0}),y=new r.Z.Text({text:t.node_id.toString(),fontSize:20,fontFamily:"Calibri",fill:"white"});i.add(p),o.add(y);var m=_t(t,e,n,c,u);p.x(m.x),p.y(m.y),p.stroke(m.color),Et(y,p);var x=lt(lt({},t),m),_={node:x,conva_circle:p,conva_text:y,focused:!1},E=!1,L=!1,k=!1;p.on("mouseover",ut(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E=!0,L){t.next=4;break}return t.next=4,(0,h._v)(500);case 4:if(E){t.next=6;break}return t.abrupt("return");case 6:if(!k){t.next=8;break}return t.abrupt("return");case 8:L=!0,g(_),b(_);case 11:case"end":return t.stop()}}),t)})))),p.on("mousemove",ut(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b(_));case 1:case"end":return t.stop()}}),t)})))),p.on("dragmove",ut(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.moveToTop(),y.moveToTop(),w(),T();case 4:case"end":return t.stop()}}),t)})))),p.on("mouseout",ut(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(),E=!1,L=!1;case 3:case"end":return t.stop()}}),t)})))),p.on("dragend",ut(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L){t.next=3;break}return t.next=3,(0,h._v)(500);case 3:if(E){t.next=5;break}return t.abrupt("return");case 5:g(_),b(_);case 7:case"end":return t.stop()}}),t)})))),p.on("contextmenu",ut(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(),P(_),k=!0;case 3:case"end":return t.stop()}}),t)})))),p.on("click",function(){var t=ut(at().mark((function t(e){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(2!==e.evt.button){t.next=2;break}return t.abrupt("return");case 2:k=!1,_.focused=!0,w(),T();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),p.on("dblclick",ut(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==l){t.next=2;break}return t.abrupt("return");case 2:rt(l,_);case 3:case"end":return t.stop()}}),t)}))));var j=!1;p.on("touchstart",ut(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j=!0,t.next=3,(0,h._v)(1500);case 3:if(null!==l){t.next=5;break}return t.abrupt("return");case 5:rt(l,_);case 6:case"end":return t.stop()}}),t)})))),p.on("touchend",ut(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j&&mt(_),j=!1;case 2:case"end":return t.stop()}}),t)})))),!1===s&&(0,h.Xj)("success","Node Added","Node ".concat(t.node_id," has been added to the network."));return function(t){t.conva_circle.on("dragmove",(function(e){t.node.x=e.target.x(),t.node.y=e.target.y(),Et(t.conva_text,t.conva_circle);var n=t.focused;bt().forEach((function(t){return gt(t)})),n&&mt(t)})),t.conva_circle.on("click",(function(e){2!==e.evt.button&&(bt().forEach((function(t){return gt(t)})),t.focused?gt(t):mt(t))}))}(_),wt.push(_),_}(t,i,o,Nt,Tt,p,y,M,n);n&&(a.conva_text.text(n.slug),Et(a.conva_text,a.conva_circle))}));var m=bt();u.forEach((function(t){t.conva_line.destroy(),t.conva_text.destroy()})),u=[],t.connections.forEach((function(t){var e=m.find((function(e){return e.node.node_id===t.node_a_id})),n=m.find((function(e){return e.node.node_id===t.node_b_id}));e&&n&&function(t,e,n,o,i){var c=new r.Z.Line({stroke:"black",strokeWidth:2,lineCap:"round",lineJoin:"round"}),s=new r.Z.Text({text:t.weight.toString(),fontSize:23,fontFamily:"Calibri",fill:"white"});i.add(s),o.add(c);var d={connection:a(a({},t),{},{node_a:e,node_b:n,weight:t.weight}),conva_line:c,conva_text:s};l(d),f(d),u.push(d)}(t,e,n,It,Nt)})),m.forEach((function(t){t.focused&&mt(t)})),M=!1}function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function C(){C=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new k(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function v(){}var p={};u(p,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==e&&n.call(m,i)&&(p=m);var g=v.prototype=d.prototype=Object.create(p);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,c){var u=l(t[r],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==G(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=_(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=v,r(g,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(b.prototype),u(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function F(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function D(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){F(i,r,o,a,c,"next",t)}function c(t){F(i,r,o,a,c,"throw",t)}a(void 0)}))}}var z=function(){var t=D(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,N.AO)("GET",Ot.srr_tree_url,Ot.csrf_token,{}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=D(C().mark((function t(e){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,N.AO)("GET",Ot.proxy_request_url,{},{"p-headers":'{ "NodeSecret": "'+e.secret+'" }',"p-url":e.http_url+"/statistics/server"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=D(C().mark((function t(e){var n;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){var t=D(C().mark((function t(){var e,n;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z();case 2:if(200===(e=t.sent).code){t.next=5;break}return t.abrupt("return",(0,h.Xj)("error","Oops! There appears to be an issue",e.message,5e3));case 5:A((n=e).data.tree,n.data.servers),console.log("Updated tree");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=3,n();case 3:setInterval(D(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:case"end":return t.stop()}}),t)}))),e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function X(){X=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new k(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function v(){}var p={};u(p,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==e&&n.call(m,i)&&(p=m);var g=v.prototype=d.prototype=Object.create(p);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,c){var u=l(t[r],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==q(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=_(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=v,r(g,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(b.prototype),u(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Y(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function W(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Y(i,r,o,a,c,"next",t)}function c(t){Y(i,r,o,a,c,"throw",t)}a(void 0)}))}}var R=document.querySelector("#node-panel");if(!R)throw(0,h.Xj)("error","Fatal Error","Could not find the side panel"),new Error("Could not find the side panel");R.querySelector("#close").addEventListener("click",(function(){tt=null,Z.innerHTML="",J.innerHTML="",U.innerHTML="",V.innerHTML="",$.innerHTML="",K.innerHTML="",R.classList.remove("visable"),R.classList.add("hidden")}));var Z=R.querySelector("#node-name"),J=R.querySelector("#node-type"),U=R.querySelector("#node-id"),V=R.querySelector("#node-router-id"),$=R.querySelector("#node-rtmp"),K=R.querySelector("#node-http"),Q=(R.querySelector("#node-graphs-tabs"),R.querySelector("#node-graphs-tabs-content"),R.querySelector("#node-io")),tt=(R.querySelector("#node-logs"),null),et=!0,nt=null;function rt(t,e){tt=t,Z.innerHTML=t.slug,J.innerHTML=e.node.node_type,U.innerHTML=t.id,V.innerHTML=e.node.node_id.toString(),$.innerHTML=t.rtmp_url,K.innerHTML=t.http_url,R.classList.remove("hidden"),R.classList.add("visable"),et&&(et=!1,nt=new I.Chart(Q,{title:"Node Server Metrics",type:"axis-mixed",colors:["#E3C567","#FF6666","#6FD08C","#39A9DB"],data:{datasets:[{name:"CPU%",type:"line",values:[]},{name:"RAM%",type:"line",values:[]},{name:"NET RX (Mbps)",type:"line",values:[]},{name:"NET TX (Mbps)",type:"line",values:[]}]}}),function(){ot.apply(this,arguments)}())}function ot(){return(ot=W(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setInterval(W(X().mark((function t(){var e,n;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(tt){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,B(tt);case 4:if(200===(e=t.sent).code){t.next=7;break}return t.abrupt("return",(0,h.Xj)("error","Oops! There appears to be an issue",e.message,5e3));case 7:n=e,nt.update(n.data);case 9:case"end":return t.stop()}}),t)}))),2e3);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function at(){at=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new k(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function d(){}function h(){}function v(){}var p={};u(p,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==e&&n.call(m,i)&&(p=m);var g=v.prototype=d.prototype=Object.create(p);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,c){var u=l(t[r],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==it(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=_(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=v,r(g,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(b.prototype),u(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function ct(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function ut(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ct(i,r,o,a,c,"next",t)}function c(t){ct(i,r,o,a,c,"throw",t)}a(void 0)}))}}function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ft(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==it(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===it(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ht(t){return t*(Math.PI/180)}var vt=200,pt=200,yt=25;function mt(t){t.focused=!0,t.conva_circle.fill(t.conva_circle.stroke()),s().forEach((function(e){e.connection.node_a.node.node_id===t.node.node_id||e.connection.node_b.node.node_id===t.node.node_id?function(t){t.conva_line.strokeWidth(3),t.conva_line.moveToTop(),t.conva_text.moveToTop(),t.conva_text.text(t.connection.weight.toString()),f(t),l(t)}(e):function(t){t.conva_line.strokeWidth(2),t.conva_line.moveToBottom(),t.conva_text.moveToBottom(),t.conva_line.stroke("black"),t.conva_text.text(""),f(t)}(e)}))}function gt(t){t.focused=!1,t.conva_circle.fill("transparent"),s().forEach((function(t){d(t)}))}var wt=[],bt=function(){return wt},xt=function(t){wt.filter((function(e){return e.node.node_id===t})).forEach((function(t){t.conva_circle.destroy(),t.conva_text.destroy()})),wt=wt.filter((function(e){return e.node.node_id!==t}))};function _t(t,e,n,r,o){var i=50*e,a=25*e;switch(t.node_type){case"Ingress":return{z:t.z,x:0+r,y:o+t.z*pt,color:Pt.ingress};case"Relay":return{z:t.z,x:vt+r+t.z%2*yt,y:o+t.z/2*pt*1.5-pt/n,color:Pt.relay};case"Edge":var c=ht(180/(e-1)*t.z),u=Math.cos(c+ht(-90))*a,s=Math.sin(c+ht(-90))*i;return{z:t.z,x:u+r+2*vt+yt,y:s+o+pt/2,color:Pt.edge}}}function Et(t,e){var n=e.x(),r=e.y(),o=n-t.width()/2,i=r-t.height()/2;t.x(o),t.y(i)}var Lt=.2;(0,n(407).Z)("srr");var kt=document.getElementById("config");function jt(t,e){var n=t.getAttribute(e);return n||((0,h.Xj)("error","Configuration Error","No '".concat(e,"' found, please reload the page")),setTimeout((function(){return window.location.reload()}),3e3)),n}var Ot={csrf_token:jt(kt,"data-csrf-token"),srr_tree_url:jt(kt,"data-get-ssr-tree"),proxy_request_url:jt(kt,"data-proxy-request")};H(5e3);var St=new r.Z.Stage({container:"app",width:window.innerWidth,height:window.innerHeight}),Pt={ingress:"#6FD08C",relay:"#39A9DB",edge:"#FF6666"},Tt=new r.Z.Layer,It=new r.Z.Layer,Nt=new r.Z.Layer;St.add(Tt),St.add(It),St.add(Nt),It.zIndex(0),Tt.zIndex(1),Nt.zIndex(2),function(t){var e=document.getElementById("zoom-in"),n=document.getElementById("zoom-out"),r=document.getElementById("zoom-level");e.addEventListener("click",(function(){if(!(t.scaleX()>=2)){var e=t.scaleX()+.1;t.scale({x:e,y:e}),r.value="".concat(Math.trunc(100*e),"%"),T()}})),n.addEventListener("click",(function(){if(!(t.scaleX()<=Lt)){var e=t.scaleX()-.1;t.scale({x:e,y:e}),r.value="".concat(Math.trunc(100*e),"%"),T()}}));var o=100;r.addEventListener("input",(function(){(o=parseInt(r.value)||20)>200&&(o=200),o<20&&(o=20);var e=o/100;t.scale({x:e,y:e})})),r.addEventListener("blur",(function(){r.value="".concat(o,"%"),T()})),t.on("wheel",(function(e){e.evt.preventDefault();var n=t.scaleX(),o=t.getPointerPosition().x/n-t.x()/n,i=t.getPointerPosition().y/n-t.y()/n,a=e.evt.deltaY>0?.9*n:n/.9;if(a<Lt)return t.scale({x:Lt,y:Lt}),t.batchDraw(),r.value="".concat(Math.trunc(20),"%"),void T();if(a>2)return t.scale({x:2,y:2}),t.batchDraw(),r.value="".concat(Math.trunc(200),"%"),void T();r.value="".concat(Math.trunc(100*a),"%"),t.scale({x:a,y:a});var c=-(o-t.getPointerPosition().x/a)*a,u=-(i-t.getPointerPosition().y/a)*a;t.position({x:c,y:u}),t.batchDraw(),T()}))}(St),function(t){var e=!1,n=document.getElementById("ui"),r=document.getElementById("zoom-level"),o=function(t){1===t.target._id&&(e=!0,document.body.style.cursor="grabbing",n.classList.add("no-pointer-events"))};t.on("mousedown",(function(t){return o(t)})),t.on("touchstart",(function(t){return o(t)}));var i=function(){e=!1,document.body.style.cursor="default",n.classList.remove("no-pointer-events")};t.on("mouseup",i),t.on("touchend",i),t.on("mousemove",(function(n){e&&(t.position({x:t.x()+n.evt.movementX,y:t.y()+n.evt.movementY}),t.batchDraw())}));var a=null,c=null,u=function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}};t.on("touchmove",(function(e){e.evt.preventDefault();var n=e.evt.touches[0],o=e.evt.touches[1];if(n&&o){t.isDragging()&&t.stopDrag();var i={x:n.clientX,y:n.clientY},s={x:o.clientX,y:o.clientY};if(!a)return void(a=u(i,s));var l=u(i,s),f=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}(i,s);if(!c)return void(c=f);var d={x:(l.x-t.x())/t.scaleX(),y:(l.y-t.y())/t.scaleY()},h=t.scaleX()*(f/c);h<Lt&&(h=Lt),h>2&&(h=2),r.value="".concat(Math.trunc(100*h),"%"),t.scale({x:h,y:h});var v=l.x-a.x,p=l.y-a.y;t.position({x:l.x-d.x*h+v,y:l.y-d.y*h+p}),t.batchDraw(),a=l,c=f}else if(n){if(1!==e.target._id)return;if(t.isDragging())return;t.startDrag();var y={x:n.clientX,y:n.clientY};if(!a)return void(a=y);var m=y,g=m.x-a.x,w=m.y-a.y;t.position({x:t.x()+g,y:t.y()+w}),t.batchDraw(),a=m}})),t.on("touchend",(function(t){a=null,c=0}));var s=document.getElementById("x-coord"),l=document.getElementById("y-coord"),f=!1,d=!1;s.addEventListener("focus",(function(){f=!0})),s.addEventListener("blur",(function(){f=!1,s.value="".concat(t.x().toFixed(2),"x")})),l.addEventListener("focus",(function(){d=!0})),l.addEventListener("blur",(function(){d=!1,l.value="".concat(t.y().toFixed(2),"y")})),s.addEventListener("input",(function(){t.x(parseInt(s.value)||0),t.batchDraw()})),l.addEventListener("input",(function(){t.y(parseInt(l.value)||0),t.batchDraw()})),t.on("xChange",(function(){f||(s.value="".concat(t.x().toFixed(2),"x"),T())})),t.on("yChange",(function(){d||(l.value="".concat(t.y().toFixed(2),"y"),T())}))}(St),function(t,e){var n=document.getElementById(e),r=function(){t.width(n.clientWidth),t.height(n.clientHeight),t.batchDraw()};window.addEventListener("resize",r),r()}(St,"app"),It.listening(!1),Nt.listening(!1),function(t){t.on("click",(function(t){1===t.target._id&&(s().forEach((function(t){d(t)})),bt().forEach((function(t){gt(t)})),T())}))}(St)}},t=>{t.O(0,[60,455,724,440],(()=>{return e=485,t(t.s=e);var e}));t.O()}]);